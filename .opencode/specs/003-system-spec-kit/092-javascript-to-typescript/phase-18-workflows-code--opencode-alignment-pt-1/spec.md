# Spec: Phase 17 — workflows-code--opencode Alignment Audit

## Overview

Bi-directional alignment audit between the `system-spec-kit` codebase and the `workflows-code--opencode` skill standards. Determines whether the **code** needs fixing, the **skill** needs updating, or both.

## Scope

### In Scope

- All source files in `system-spec-kit/` (mcp_server/, shared/, scripts/, config/)
- All reference files in `workflows-code--opencode/` (JS, TS, Python, Shell, Config standards)
- SKILL.md evidence citations and file counts
- Bi-directional gap analysis

### Out of Scope

- Compiled output files (`dist/`, `*.js` generated by `tsc`)
- `node_modules/`
- Database files (`.sqlite`)
- Actual code remediation (separate future phases)
- Skill creation/restructuring (separate task)

## Context

The TypeScript migration (Phases 1-16) transformed system-spec-kit from predominantly JavaScript to predominantly TypeScript (~65 JS files remaining, ~341 TS files). The `workflows-code--opencode` skill was created based on the pre-migration JavaScript codebase and has not been updated to reflect the post-migration reality.

## Methodology

10 parallel Opus agents audited the codebase across these domains:

| Agent | Domain | Files Checked |
|-------|--------|---------------|
| 01 | mcp_server TypeScript | 62 |
| 02 | mcp_server handlers (JS→TS) | 10 |
| 03 | mcp_server lib JavaScript | 1 |
| 04 | shared/embeddings TypeScript | 6 |
| 05 | shared/ (non-embeddings) TypeScript | 6 |
| 06 | scripts/ JavaScript | 13 |
| 07 | scripts/ Shell | 27 |
| 08 | scripts/ Python | 1 |
| 09 | Config (JSONC/JSON) | 10 |
| 10 | Skill gap analysis (bi-directional) | N/A |

**Total files audited: 136**

## Key Finding

**The skill needs updating MORE than the code needs changing.**

The workflows-code--opencode skill is substantially out of date with the actual codebase. The TypeScript migration transformed the codebase but the skill still documents the pre-migration JavaScript state.

## Documentation Level

**Level 2** — Audit with 645 violations cataloged, requiring both skill updates and focused code fixes.
