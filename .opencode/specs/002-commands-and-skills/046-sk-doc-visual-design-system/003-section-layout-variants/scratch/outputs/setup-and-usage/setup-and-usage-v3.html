<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <meta name="ve-artifact-type" content="readme">
  <meta name="ve-source-doc" content="n/a">
  <meta name="ve-speckit-level" content="1">
  <meta name="ve-view-mode" content="traceability-board">
  <title>Setup and Usage - Environment Manual</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
  
  <style>
    /* 
      Theme Variables 
      Treating light/dark as equal citizens per requirements 
    */
    :root {
      /* Dark Theme (Default) */
      --bg: #131314;
      --surface: #1c1c1e;
      --surface-l2: #252528;
      --surface-l3: #2d2d30;
      --surface-l3-alpha: rgba(45, 45, 48, 0.5);
      --text: #fafafa;
      --text-muted: #71717a;
      
      --accent: #3b82f6;
      --accent-muted: rgba(59, 130, 246, 0.1);
      
      --border: rgba(255, 255, 255, 0.08);
      --border-light: rgba(255, 255, 255, 0.05);
      
      --success: #22c55e;
      --warning: #ffbd2e;
      --error: #ff5f56;
      
      --zinc-200: #e4e4e7;
      --zinc-300: #d4d4d8;
      --zinc-400: #a1a1aa;
      --zinc-500: #71717a;
      
      --font-sans: 'Inter', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
      
      --lh-base: 1.75;
      --lh-tight: 1.1;
      
      --radius-card: 12px;
      --transition-main: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #fdfdfd;
        --surface: #ffffff;
        --surface-l2: #f4f4f5;
        --surface-l3: #e4e4e7;
        --surface-l3-alpha: rgba(228, 228, 231, 0.5);
        --text: #18181b;
        --text-muted: #71717a;
        
        --accent: #2563eb;
        --accent-muted: rgba(37, 99, 235, 0.1);
        
        --border: rgba(0, 0, 0, 0.1);
        --border-light: rgba(0, 0, 0, 0.05);
        
        --success: #16a34a;
        --warning: #d97706;
        --error: #dc2626;
        
        --zinc-200: #3f3f46;
        --zinc-300: #52525b;
        --zinc-400: #71717a;
        --zinc-500: #a1a1aa;
      }
    }

    /* Core Document Styles */
    html {
      scroll-behavior: smooth;
    }
    
    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: var(--font-sans);
      line-height: var(--lh-base);
      margin: 0;
      -webkit-font-smoothing: antialiased;
    }
    
    .mono {
      font-family: var(--font-mono);
    }
    
    .text-balance {
      text-wrap: balance;
    }

    .page-container {
      width: 100%;
      max-width: 96rem;
      margin: 0 auto;
    }

    /* Scrollbars */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    ::-webkit-scrollbar-track {
      background: var(--bg);
    }
    ::-webkit-scrollbar-thumb {
      background: var(--surface-l3);
      border-radius: 10px;
    }

    /* Components */
    .glass-card {
      background-color: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-card);
    }

    .ledger-line {
      height: 1px;
      background: var(--border);
      width: 100%;
      margin: 2rem 0;
    }

    /* Code Window */
    .code-window {
      background-color: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-card);
      overflow: hidden;
    }
    .code-header {
      background-color: var(--surface-l3-alpha);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border-light);
      padding: 0.5rem 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .code-content {
      padding: 1.25rem;
      overflow-x: auto;
      font-size: 0.8125rem;
      color: var(--zinc-300);
      line-height: 1.6;
      margin: 0;
    }

    /* Tab Navigation */
    .tab-list {
      display: flex;
      gap: 0.25rem;
      border-bottom: 1px solid var(--border);
      overflow-x: auto;
      scrollbar-width: none; 
    }
    .tab-list::-webkit-scrollbar {
      display: none; 
    }
    
    .tab-btn {
      padding: 0.75rem 1.25rem;
      color: var(--text-muted);
      font-size: 0.875rem;
      font-weight: 500;
      border-bottom: 2px solid transparent;
      transition: var(--transition-main);
      white-space: nowrap;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: transparent;
      outline: none;
    }
    
    .tab-btn:hover {
      color: var(--text);
      background-color: var(--surface-l2);
    }
    
    .tab-btn:focus-visible {
      background-color: var(--surface-l2);
      border-radius: 4px 4px 0 0;
    }
    
    .tab-btn[aria-selected="true"] {
      color: var(--text);
      border-bottom-color: var(--accent);
    }
    
    .tab-btn[aria-selected="true"] .tab-icon {
      color: var(--accent);
    }

    .tab-panel {
      display: none;
      animation: fadeIn 0.4s cubic-bezier(0.22, 1, 0.36, 1);
    }
    
    .tab-panel.active {
      display: block;
    }

    /* Status Indicator */
    .status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      display: inline-block;
    }

    /* Accessibility & Motion */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
      .tab-panel {
        animation: none;
      }
    }
  </style>
</head>
<body>

<div class="page-container px-6 lg:px-12 py-16">
  
  <section id="setup-and-usage" class="space-y-10">
    <!-- Section Header -->
    <header class="space-y-6">
      <div class="inline-flex items-center gap-3 border border-[var(--border)] bg-[var(--surface)] px-3 py-1.5 rounded-full text-[10px] font-semibold tracking-widest text-[var(--zinc-300)] uppercase">
        <span class="status-dot bg-[var(--accent)]" aria-hidden="true"></span> Setup and Usage
      </div>
      
      <div class="space-y-4 max-w-4xl">
        <h2 class="text-3xl font-semibold tracking-tight text-[var(--text)] text-balance">
          Environment-Specific Workflows
        </h2>
        <p class="text-[var(--text-muted)] text-sm leading-relaxed">
          Select your target environment below to view the dedicated configuration parameters, prerequisites, and execution commands. Each track is isolated to prevent configuration drift.
        </p>
      </div>
    </header>

    <!-- Tabbed Manual Interface -->
    <div class="mt-8">
      
      <!-- Tab List -->
      <div role="tablist" aria-label="Environment selection" class="tab-list">
        <button role="tab" aria-selected="true" aria-controls="panel-local" id="tab-local" class="tab-btn">
          <iconify-icon icon="lucide:terminal" class="tab-icon text-[var(--text-muted)]"></iconify-icon>
          Local Development
        </button>
        <button role="tab" aria-selected="false" aria-controls="panel-ci" id="tab-ci" class="tab-btn">
          <iconify-icon icon="lucide:git-pull-request" class="tab-icon text-[var(--text-muted)]"></iconify-icon>
          CI/CD Pipeline
        </button>
        <button role="tab" aria-selected="false" aria-controls="panel-prod" id="tab-prod" class="tab-btn">
          <iconify-icon icon="lucide:server" class="tab-icon text-[var(--text-muted)]"></iconify-icon>
          Production
        </button>
      </div>

      <!-- Tab Panels Container -->
      <div class="tab-panels-container pt-8">
        
        <!-- PANEL: LOCAL -->
        <div id="panel-local" role="tabpanel" tabindex="0" aria-labelledby="tab-local" class="tab-panel active outline-none">
          <div class="grid grid-cols-1 xl:grid-cols-12 gap-8">
            
            <!-- Left: Context & Config -->
            <div class="xl:col-span-4 space-y-6">
              <div class="glass-card p-6">
                <h3 class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase mb-5">Local Context</h3>
                <dl class="space-y-4 text-xs">
                  <div class="pb-3 border-b border-[var(--border-light)]">
                    <dt class="text-[var(--zinc-500)] mb-1">Auth Strategy</dt>
                    <dd class="text-[var(--text)] mono">.env file</dd>
                  </div>
                  <div class="pb-3 border-b border-[var(--border-light)]">
                    <dt class="text-[var(--zinc-500)] mb-1">Telemetry / Logs</dt>
                    <dd class="text-[var(--text)] flex items-center gap-2">
                      <span class="status-dot bg-[var(--warning)]"></span> Console Output (Verbose)
                    </dd>
                  </div>
                  <div>
                    <dt class="text-[var(--zinc-500)] mb-1">Data Storage</dt>
                    <dd class="text-[var(--text)] mono">./tmp/local-db</dd>
                  </div>
                </dl>
              </div>

              <!-- Warning Callout -->
              <div class="p-4 rounded-lg border border-[var(--warning)] bg-[var(--surface-l2)]">
                <div class="flex items-start gap-3">
                  <iconify-icon icon="lucide:alert-triangle" class="text-[var(--warning)] mt-0.5"></iconify-icon>
                  <div>
                    <p class="text-xs font-semibold text-[var(--text)] mb-1">Local Sandbox Limitation</p>
                    <p class="text-xs text-[var(--zinc-400)] leading-relaxed">Ensure you do not commit your `.env` file. Webhooks will not resolve unless using a tunneling service like ngrok.</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right: Execution -->
            <div class="xl:col-span-8 space-y-6">
              <h3 class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">Initialization & Execution</h3>
              
              <div class="code-window">
                <div class="code-header">
                  <span class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">.env</span>
                  <button class="text-[var(--text-muted)] hover:text-[var(--text)] transition-colors copy-btn" aria-label="Copy environment variables">
                    <iconify-icon icon="lucide:copy" class="text-sm"></iconify-icon>
                  </button>
                </div>
                <pre class="code-content mono"><code><span class="text-[var(--zinc-500)]"># Core settings</span>
ENV_PROFILE=local
DEBUG=true

<span class="text-[var(--zinc-500)]"># API Keys (Replace with your local sandbox keys)</span>
SERVICE_API_KEY=sk_test_123456789
LOCAL_PORT=8080</code></pre>
              </div>

              <div class="code-window mt-4">
                <div class="code-header">
                  <span class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">bash</span>
                  <button class="text-[var(--text-muted)] hover:text-[var(--text)] transition-colors copy-btn" aria-label="Copy bash commands">
                    <iconify-icon icon="lucide:copy" class="text-sm"></iconify-icon>
                  </button>
                </div>
                <pre class="code-content mono"><code><span class="text-[var(--zinc-500)]"># 1. Install dependencies</span>
npm ci

<span class="text-[var(--zinc-500)]"># 2. Start the local server with hot-reload</span>
npm run dev

<span class="text-[var(--zinc-500)]"># 3. In a separate terminal, run local tests</span>
npm run test:watch</code></pre>
              </div>
            </div>
            
          </div>
        </div>

        <!-- PANEL: CI/CD -->
        <div id="panel-ci" role="tabpanel" tabindex="0" aria-labelledby="tab-ci" class="tab-panel outline-none">
          <div class="grid grid-cols-1 xl:grid-cols-12 gap-8">
            
            <div class="xl:col-span-4 space-y-6">
              <div class="glass-card p-6">
                <h3 class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase mb-5">Pipeline Context</h3>
                <dl class="space-y-4 text-xs">
                  <div class="pb-3 border-b border-[var(--border-light)]">
                    <dt class="text-[var(--zinc-500)] mb-1">Auth Strategy</dt>
                    <dd class="text-[var(--text)] mono">GitHub Secrets</dd>
                  </div>
                  <div class="pb-3 border-b border-[var(--border-light)]">
                    <dt class="text-[var(--zinc-500)] mb-1">Validation</dt>
                    <dd class="text-[var(--text)] flex items-center gap-2">
                      <span class="status-dot bg-[var(--accent)]"></span> Strict (Exit 1 on warn)
                    </dd>
                  </div>
                  <div>
                    <dt class="text-[var(--zinc-500)] mb-1">Runner</dt>
                    <dd class="text-[var(--text)] mono">ubuntu-latest</dd>
                  </div>
                </dl>
              </div>
            </div>

            <div class="xl:col-span-8 space-y-6">
              <h3 class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">Headless Execution</h3>
              
              <div class="code-window">
                <div class="code-header">
                  <span class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">yaml</span>
                  <button class="text-[var(--text-muted)] hover:text-[var(--text)] transition-colors copy-btn" aria-label="Copy workflow yaml">
                    <iconify-icon icon="lucide:copy" class="text-sm"></iconify-icon>
                  </button>
                </div>
                <pre class="code-content mono"><code><span class="text-[var(--accent)]">jobs:</span>
  <span class="text-[var(--success)]">validate-and-build:</span>
    <span class="text-[var(--accent)]">runs-on:</span> ubuntu-latest
    <span class="text-[var(--accent)]">steps:</span>
      - <span class="text-[var(--accent)]">uses:</span> actions/checkout@v4
      - <span class="text-[var(--accent)]">name:</span> Install & Validate
        <span class="text-[var(--accent)]">run:</span> |
          npm ci
          npm run lint -- --strict
          npm run build
        <span class="text-[var(--accent)]">env:</span>
          <span class="text-[var(--success)]">SERVICE_API_KEY:</span> ${{ secrets.CI_SERVICE_API_KEY }}</code></pre>
              </div>
            </div>
            
          </div>
        </div>

        <!-- PANEL: PRODUCTION -->
        <div id="panel-prod" role="tabpanel" tabindex="0" aria-labelledby="tab-prod" class="tab-panel outline-none">
          <div class="grid grid-cols-1 xl:grid-cols-12 gap-8">
            
            <div class="xl:col-span-4 space-y-6">
              <div class="glass-card p-6">
                <h3 class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase mb-5">Production Context</h3>
                <dl class="space-y-4 text-xs">
                  <div class="pb-3 border-b border-[var(--border-light)]">
                    <dt class="text-[var(--zinc-500)] mb-1">Auth Strategy</dt>
                    <dd class="text-[var(--text)] mono">AWS Secrets Manager</dd>
                  </div>
                  <div class="pb-3 border-b border-[var(--border-light)]">
                    <dt class="text-[var(--zinc-500)] mb-1">Telemetry / Logs</dt>
                    <dd class="text-[var(--text)] flex items-center gap-2">
                      <span class="status-dot bg-[var(--success)]"></span> Datadog Agent
                    </dd>
                  </div>
                  <div>
                    <dt class="text-[var(--zinc-500)] mb-1">Scale</dt>
                    <dd class="text-[var(--text)] mono">Multi-AZ Load Balanced</dd>
                  </div>
                </dl>
              </div>

              <!-- Critical Callout -->
              <div class="p-4 rounded-lg border border-[var(--error)] bg-[var(--surface-l2)]">
                <div class="flex items-start gap-3">
                  <iconify-icon icon="lucide:shield-alert" class="text-[var(--error)] mt-0.5"></iconify-icon>
                  <div>
                    <p class="text-xs font-semibold text-[var(--text)] mb-1">Immutable Deployments</p>
                    <p class="text-xs text-[var(--zinc-400)] leading-relaxed">Never manually SSH to modify production state. All changes must flow through the CI/CD pipeline artifact generation.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="xl:col-span-8 space-y-6">
              <h3 class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">Container Deployment</h3>
              
              <div class="code-window">
                <div class="code-header">
                  <span class="text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">bash</span>
                  <button class="text-[var(--text-muted)] hover:text-[var(--text)] transition-colors copy-btn" aria-label="Copy production commands">
                    <iconify-icon icon="lucide:copy" class="text-sm"></iconify-icon>
                  </button>
                </div>
                <pre class="code-content mono"><code><span class="text-[var(--zinc-500)]"># Ensure production environment variables are sourced</span>
<span class="text-[var(--accent)]">export</span> NODE_ENV=production

<span class="text-[var(--zinc-500)]"># Pull the latest signed container image</span>
docker pull registry.internal/app/service:stable

<span class="text-[var(--zinc-500)]"># Execute via orchestrator (Example: Docker Swarm / Compose)</span>
docker stack deploy -c docker-compose.prod.yml app_service</code></pre>
              </div>
            </div>
            
          </div>
        </div>

      </div>
    </div>
  </section>

</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Tab Interaction Logic
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabPanels = document.querySelectorAll('.tab-panel');

    tabBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        // Reset state
        tabBtns.forEach(b => b.setAttribute('aria-selected', 'false'));
        tabPanels.forEach(p => p.classList.remove('active'));

        // Activate clicked tab
        btn.setAttribute('aria-selected', 'true');
        const targetId = btn.getAttribute('aria-controls');
        document.getElementById(targetId).classList.add('active');
      });
      
      // Keyboard support (arrows)
      btn.addEventListener('keydown', (e) => {
        const index = Array.from(tabBtns).indexOf(btn);
        let nextIndex = index;
        
        if (e.key === 'ArrowRight') {
          nextIndex = (index + 1) % tabBtns.length;
          e.preventDefault();
        } else if (e.key === 'ArrowLeft') {
          nextIndex = (index - 1 + tabBtns.length) % tabBtns.length;
          e.preventDefault();
        }
        
        if (nextIndex !== index) {
          tabBtns[nextIndex].focus();
          tabBtns[nextIndex].click();
        }
      });
    });

    // Copy to Clipboard Logic
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const codeBlock = btn.closest('.code-window').querySelector('code');
        
        navigator.clipboard.writeText(codeBlock.innerText).then(() => {
          const icon = btn.querySelector('iconify-icon');
          const originalIcon = icon.getAttribute('icon');
          
          // Show success state
          icon.setAttribute('icon', 'lucide:check');
          btn.style.color = 'var(--success)';
          
          // Revert after 2 seconds
          setTimeout(() => {
            icon.setAttribute('icon', originalIcon);
            btn.style.color = '';
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy: ', err);
        });
      });
    });
  });
</script>

</body>
</html>
