<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <title>Service Playbook - Support Section</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --bg: #131314;
      --surface: #1c1c1e;
      --surface-l2: #252528;
      --text: #fafafa;
      --text-muted: #71717a;
      --accent: #3b82f6;
      --accent-muted: rgba(59, 130, 246, 0.1);
      --border: rgba(255, 255, 255, 0.08);
      --border-light: rgba(255, 255, 255, 0.04);
      --zinc-200: #e4e4e7;
      --zinc-300: #d4d4d8;
      --zinc-400: #a1a1aa;
      --zinc-500: #71717a;
      --warning: #ffbd2e;
      --warning-muted: rgba(255, 189, 46, 0.1);
      --error: #ff5f56;
      --error-muted: rgba(255, 95, 86, 0.1);
      
      --font-sans: 'Inter', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #ffffff;
        --surface: #f4f4f5;
        --surface-l2: #e4e4e7;
        --text: #18181b;
        --text-muted: #71717a;
        --accent: #2563eb;
        --accent-muted: rgba(37, 99, 235, 0.1);
        --border: rgba(0, 0, 0, 0.1);
        --border-light: rgba(0, 0, 0, 0.05);
        --zinc-200: #3f3f46;
        --zinc-300: #52525b;
        --zinc-400: #71717a;
        --zinc-500: #a1a1aa;
        --warning: #d97706;
        --error: #dc2626;
      }
    }

    body {
      font-family: var(--font-sans);
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    .font-mono {
      font-family: var(--font-mono);
    }

    html {
      scroll-behavior: smooth;
    }

    @media (prefers-reduced-motion: reduce) {
      html {
        scroll-behavior: auto;
      }
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
    }

    details > summary::-webkit-details-marker {
      display: none;
    }
  </style>
</head>
<body class="antialiased selection:bg-[var(--accent-muted)] min-h-screen">

<section id="support-playbook" class="w-full max-w-[96rem] mx-auto px-6 lg:px-12 py-16 lg:py-24">
  
  <header class="mb-16 border-b border-[var(--border)] pb-10 max-w-4xl">
    <div class="inline-flex items-center gap-2 px-2.5 py-1 bg-[var(--surface-l2)] border border-[var(--border)] rounded text-[10px] uppercase tracking-widest text-[var(--zinc-400)] font-mono mb-6">
      <span class="w-1.5 h-1.5 rounded-full bg-[var(--accent)]"></span>
      Service Playbook
    </div>
    <h2 class="text-3xl lg:text-4xl font-light tracking-tight text-[var(--text)] mb-4">Troubleshooting & Escalation</h2>
    <p class="text-[var(--zinc-400)] text-sm lg:text-base max-w-2xl leading-relaxed">Systematic resolution paths for common operational anomalies. Follow the escalation tiers sequentially to resolve issues efficiently before raising engineering tickets.</p>
  </header>

  <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-16 relative">
    
    <!-- Left Axis: Escalation Path Navigation -->
    <div class="lg:col-span-3">
      <nav class="sticky top-24 hidden lg:block border-l border-[var(--border-light)] pl-6 py-2" aria-label="Escalation Tiers">
        
        <div class="relative mb-8">
          <div class="nav-indicator absolute -left-[29px] top-1.5 w-2.5 h-2.5 rounded-full bg-[var(--text)] ring-4 ring-[var(--bg)] border border-[var(--border)] transition-colors duration-300"></div>
          <a href="#tier-1" class="escalation-nav-link text-sm font-semibold text-[var(--text)] block mb-1 transition-colors">Tier 1: Immediate</a>
          <span class="text-xs text-[var(--text-muted)] block">Self-serve quick fixes</span>
        </div>

        <div class="relative mb-8">
          <div class="nav-indicator absolute -left-[29px] top-1.5 w-2.5 h-2.5 rounded-full bg-[var(--surface-l2)] ring-4 ring-[var(--bg)] border border-[var(--border)] transition-colors duration-300"></div>
          <a href="#tier-2" class="escalation-nav-link text-sm font-medium text-[var(--zinc-400)] hover:text-[var(--text)] block mb-1 transition-colors">Tier 2: Diagnostic</a>
          <span class="text-xs text-[var(--text-muted)] block">Guided workflows</span>
        </div>

        <div class="relative">
          <div class="nav-indicator absolute -left-[29px] top-1.5 w-2.5 h-2.5 rounded-full bg-[var(--surface-l2)] ring-4 ring-[var(--bg)] border border-[var(--border)] transition-colors duration-300"></div>
          <a href="#tier-3" class="escalation-nav-link text-sm font-medium text-[var(--zinc-400)] hover:text-[var(--text)] block mb-1 transition-colors">Tier 3: Escalation</a>
          <span class="text-xs text-[var(--text-muted)] block">Engineering support</span>
        </div>

      </nav>
    </div>

    <!-- Right Axis: Playbook Content -->
    <div class="lg:col-span-9 space-y-24 max-w-3xl">
      
      <!-- Tier 1 -->
      <div id="tier-1" class="scroll-mt-32 playbook-tier">
        <div class="flex items-center gap-3 mb-6">
          <span class="px-2 py-1 bg-[var(--surface-l2)] border border-[var(--border)] text-xs font-mono rounded text-[var(--text)] tracking-wider">T1</span>
          <h3 class="text-xl font-medium text-[var(--text)] tracking-tight">Immediate Actions</h3>
        </div>
        <p class="text-sm text-[var(--zinc-400)] mb-8">Match your symptom against known anomalies and apply the recommended fix. If the issue remains unresolved after 10 minutes, proceed to Tier 2.</p>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <!-- Action Card 1 -->
          <div class="bg-[var(--surface)] border border-[var(--border)] p-5 rounded-xl hover:border-[var(--zinc-500)] transition-colors duration-300 flex flex-col h-full">
            <div class="flex justify-between items-start mb-4">
              <div class="text-[10px] font-mono text-[var(--warning)] bg-[var(--warning-muted)] px-2 py-0.5 rounded tracking-wider">WARN_01</div>
              <span class="text-[10px] text-[var(--text-muted)] uppercase tracking-widest">Configuration</span>
            </div>
            <h4 class="text-sm font-medium text-[var(--text)] mb-2">Command fails to start</h4>
            <p class="text-xs text-[var(--zinc-400)] mb-5 pb-5 border-b border-[var(--border-light)] flex-grow">CLI returns an initialization error citing missing setup values or context.</p>
            <div class="text-xs mt-auto">
              <span class="text-[var(--text-muted)] block mb-2 font-medium uppercase tracking-wider text-[10px]">Execute Fix</span>
              <code class="font-mono text-[11px] text-[var(--text)] bg-[var(--surface-l2)] border border-[var(--border)] px-2 py-1 rounded block w-fit">run setup --verify --fix</code>
            </div>
          </div>

          <!-- Action Card 2 -->
          <div class="bg-[var(--surface)] border border-[var(--border)] p-5 rounded-xl hover:border-[var(--zinc-500)] transition-colors duration-300 flex flex-col h-full">
            <div class="flex justify-between items-start mb-4">
              <div class="text-[10px] font-mono text-[var(--text)] bg-[var(--surface-l2)] px-2 py-0.5 rounded tracking-wider border border-[var(--border)]">INFO_04</div>
              <span class="text-[10px] text-[var(--text-muted)] uppercase tracking-widest">Cache</span>
            </div>
            <h4 class="text-sm font-medium text-[var(--text)] mb-2">Output looks outdated</h4>
            <p class="text-xs text-[var(--zinc-400)] mb-5 pb-5 border-b border-[var(--border-light)] flex-grow">Generated assets or views do not reflect the latest committed data schema.</p>
            <div class="text-xs mt-auto">
              <span class="text-[var(--text-muted)] block mb-2 font-medium uppercase tracking-wider text-[10px]">Execute Fix</span>
              <code class="font-mono text-[11px] text-[var(--text)] bg-[var(--surface-l2)] border border-[var(--border)] px-2 py-1 rounded block w-fit">clear cache && build --fresh</code>
            </div>
          </div>
        </div>
      </div>

      <!-- Tier 2 -->
      <div id="tier-2" class="scroll-mt-32 playbook-tier">
        <div class="flex items-center gap-3 mb-6">
          <span class="px-2 py-1 bg-[var(--surface-l2)] border border-[var(--border)] text-xs font-mono rounded text-[var(--text)] tracking-wider">T2</span>
          <h3 class="text-xl font-medium text-[var(--text)] tracking-tight">Diagnostic Workflows</h3>
        </div>
        <p class="text-sm text-[var(--zinc-400)] mb-8">Follow these structured workflows if Tier 1 actions failed or your specific symptom is unlisted. Document your findings at each step.</p>
        
        <div class="space-y-3">
          <!-- Workflow 1 -->
          <details class="group border border-[var(--border)] bg-[var(--surface)] rounded-xl overflow-hidden transition-colors hover:border-[var(--zinc-500)]">
            <summary class="flex items-center justify-between p-5 cursor-pointer text-sm font-medium text-[var(--text)] select-none bg-[var(--surface)] group-open:bg-[var(--surface-l2)] transition-colors">
              <span class="flex items-center gap-3">
                <svg class="w-4 h-4 text-[var(--zinc-500)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg>
                Validation Warnings Persistent
              </span>
              <span class="relative flex h-5 w-5 items-center justify-center rounded-full border border-[var(--border)] bg-[var(--bg)] transition-colors">
                <svg class="w-3 h-3 text-[var(--zinc-400)] transition-transform duration-300 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </span>
            </summary>
            <div class="p-6 pt-2 bg-[var(--surface)]">
              <ol class="list-decimal list-outside ml-4 text-xs text-[var(--zinc-400)] space-y-4 mt-2 marker:text-[var(--text-muted)] marker:font-mono">
                <li class="pl-2"><span class="text-[var(--zinc-200)] font-medium block mb-1">Review Placeholders</span> Check all template files for un-replaced <code>{{variable}}</code> syntax or malformed tags.</li>
                <li class="pl-2"><span class="text-[var(--zinc-200)] font-medium block mb-1">Run Integrity Check</span> Execute <code>npm run check:integrity</code> to identify broken references across the document tree.</li>
                <li class="pl-2"><span class="text-[var(--zinc-200)] font-medium block mb-1">Isolate Modules</span> Disable integrations one by one to find the origin of the warning loop.</li>
                <li class="pl-2"><span class="text-[var(--zinc-200)] font-medium block mb-1">Capture Logs</span> Export the validation trace for evidence: <code class="mt-1 block bg-[var(--bg)] border border-[var(--border-light)] p-1.5 rounded">tail -n 100 validation.log > debug.txt</code></li>
              </ol>
            </div>
          </details>

          <!-- Workflow 2 -->
          <details class="group border border-[var(--border)] bg-[var(--surface)] rounded-xl overflow-hidden transition-colors hover:border-[var(--zinc-500)]">
            <summary class="flex items-center justify-between p-5 cursor-pointer text-sm font-medium text-[var(--text)] select-none bg-[var(--surface)] group-open:bg-[var(--surface-l2)] transition-colors">
              <span class="flex items-center gap-3">
                <svg class="w-4 h-4 text-[var(--zinc-500)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                Frequent Timeout Errors
              </span>
              <span class="relative flex h-5 w-5 items-center justify-center rounded-full border border-[var(--border)] bg-[var(--bg)] transition-colors">
                <svg class="w-3 h-3 text-[var(--zinc-400)] transition-transform duration-300 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </span>
            </summary>
            <div class="p-6 pt-2 bg-[var(--surface)]">
              <div class="text-xs text-[var(--zinc-400)] mt-2 space-y-4">
                <p>Timeouts usually indicate a network policy block or an unresponsive upstream service. Verify the following environment conditions:</p>
                <ul class="list-disc list-outside ml-4 space-y-2 marker:text-[var(--zinc-500)]">
                  <li class="pl-2">Upstream health endpoints are returning <code class="bg-[var(--bg)] px-1 rounded">200 OK</code>.</li>
                  <li class="pl-2">Local proxy settings (VPNs, firewalls) are not intercepting the traffic flow.</li>
                  <li class="pl-2">Increase the timeout threshold temporarily in <code>config.yml</code> (maximum 60s) to rule out latency spikes.</li>
                </ul>
              </div>
            </div>
          </details>
        </div>
      </div>

      <!-- Tier 3 -->
      <div id="tier-3" class="scroll-mt-32 playbook-tier">
        <div class="flex items-center gap-3 mb-6">
          <span class="px-2 py-1 bg-[var(--error-muted)] border border-[rgba(255,95,86,0.2)] text-[var(--error)] text-xs font-mono rounded tracking-wider">T3</span>
          <h3 class="text-xl font-medium text-[var(--text)] tracking-tight">Escalation Checkpoints</h3>
        </div>
        <p class="text-sm text-[var(--zinc-400)] mb-8">If T1 and T2 workflows have been exhausted and 30 minutes have passed without resolution, trigger an immediate engineering escalation.</p>
        
        <div class="border border-[var(--border)] bg-[var(--surface)] rounded-xl overflow-hidden">
          <div class="p-6 border-b border-[var(--border)] bg-[var(--surface-l2)]">
            <h4 class="text-sm font-medium text-[var(--text)] mb-1">Required Escalation Context</h4>
            <p class="text-xs text-[var(--zinc-400)]">Ensure the following artifacts are attached to your ticket to prevent triage delays and bounce-backs.</p>
          </div>
          
          <div class="p-6 grid grid-cols-1 sm:grid-cols-3 gap-6 bg-[var(--surface)]">
            <div class="flex items-start gap-3">
              <div class="mt-0.5 p-1.5 rounded-md bg-[var(--surface-l2)] border border-[var(--border-light)]">
                <svg class="w-4 h-4 text-[var(--zinc-300)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
              </div>
              <div>
                <span class="block text-xs font-medium text-[var(--zinc-200)]">Debug Logs</span>
                <span class="block text-[10px] text-[var(--zinc-500)] mt-0.5 leading-snug">Output traces from T2 workflows</span>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <div class="mt-0.5 p-1.5 rounded-md bg-[var(--surface-l2)] border border-[var(--border-light)]">
                <svg class="w-4 h-4 text-[var(--zinc-300)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              </div>
              <div>
                <span class="block text-xs font-medium text-[var(--zinc-200)]">Timeline</span>
                <span class="block text-[10px] text-[var(--zinc-500)] mt-0.5 leading-snug">Exact timestamp of initial failure</span>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <div class="mt-0.5 p-1.5 rounded-md bg-[var(--surface-l2)] border border-[var(--border-light)]">
                <svg class="w-4 h-4 text-[var(--zinc-300)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
              </div>
              <div>
                <span class="block text-xs font-medium text-[var(--zinc-200)]">Environment</span>
                <span class="block text-[10px] text-[var(--zinc-500)] mt-0.5 leading-snug">Active config and variables</span>
              </div>
            </div>
          </div>
          
          <div class="p-5 border-t border-[var(--border-light)] flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 bg-[var(--bg)]">
             <div class="text-xs text-[var(--zinc-400)] flex items-center gap-2">
               Route ticket to: 
               <code class="text-[var(--text)] bg-[var(--surface-l2)] px-2 py-0.5 rounded border border-[var(--border)]">@eng-ops-triage</code>
             </div>
             <button type="button" class="px-4 py-2 w-full sm:w-auto bg-[var(--surface-l2)] hover:bg-[var(--surface)] border border-[var(--border)] text-xs font-medium text-[var(--text)] rounded transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--zinc-500)] focus:ring-offset-2 focus:ring-offset-[var(--bg)]">
               File Internal Ticket
             </button>
          </div>
        </div>

      </div>

    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Scroll spy for left navigation
    const navLinks = document.querySelectorAll('.escalation-nav-link');
    const tiers = document.querySelectorAll('.playbook-tier');
    
    if (!navLinks.length || !tiers.length) return;

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Reset all links
          navLinks.forEach(link => {
            link.classList.remove('text-[var(--text)]', 'font-semibold');
            link.classList.add('text-[var(--zinc-400)]', 'font-medium');
            link.previousElementSibling.classList.replace('bg-[var(--text)]', 'bg-[var(--surface-l2)]');
          });
          
          // Activate current link
          const activeLink = document.querySelector(`a[href="#${entry.target.id}"]`);
          if (activeLink) {
            activeLink.classList.remove('text-[var(--zinc-400)]', 'font-medium');
            activeLink.classList.add('text-[var(--text)]', 'font-semibold');
            activeLink.previousElementSibling.classList.replace('bg-[var(--surface-l2)]', 'bg-[var(--text)]');
          }
        }
      });
    }, { 
      rootMargin: '-20% 0px -70% 0px',
      threshold: 0
    });
    
    tiers.forEach(tier => observer.observe(tier));
  });
</script>

</body>
</html>
