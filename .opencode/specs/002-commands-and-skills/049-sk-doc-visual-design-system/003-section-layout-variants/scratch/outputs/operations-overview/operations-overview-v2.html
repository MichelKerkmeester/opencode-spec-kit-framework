<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <meta name="ve-artifact-type" content="spec">
  <meta name="ve-source-doc" content="operations-overview">
  <meta name="ve-speckit-level" content="2">
  <meta name="ve-view-mode" content="artifact-dashboard">
  <title>Operations Overview - Lifecycle Railboard</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

  <style>
    /* Standalone Token Injection */
    :root {
      --bg: #131314;
      --surface: #1c1c1e;
      --surface-l2: #252528;
      --surface-l3: #2d2d30;
      --text: #fafafa;
      --text-muted: #a1a1aa; /* Using zinc-400 for guaranteed contrast */
      
      --accent: #3b82f6;
      --accent-hover: rgba(59, 130, 246, 0.4);
      --accent-muted: rgba(59, 130, 246, 0.1);
      
      --border: rgba(255, 255, 255, 0.08);
      --border-light: rgba(255, 255, 255, 0.05);
      
      --success: #22c55e;
      --warning: #ffbd2e;
      --error: #ff5f56;
      
      --zinc-200: #e4e4e7;
      --zinc-300: #d4d4d8;
      --zinc-400: #a1a1aa;
      --zinc-500: #71717a;
      
      --font-sans: 'Inter', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
      
      --lh-base: 1.75;
      --container-max: 96rem;
      --radius-card: 12px;
      
      --transition-main: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
      --glass-shadow: 0 8px 32px rgba(59, 130, 246, 0.05);
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #fafafa;
        --surface: #ffffff;
        --surface-l2: #f4f4f5;
        --surface-l3: #e4e4e7;
        --text: #131314;
        --text-muted: #52525b; /* zinc-600 */
        
        --border: rgba(0, 0, 0, 0.1);
        --border-light: rgba(0, 0, 0, 0.05);
        
        --zinc-200: #3f3f46;
        --zinc-300: #52525b;
        --zinc-400: #71717a;
        --zinc-500: #a1a1aa;
      }
    }

    /* Core Reset & Typography */
    html {
      background-color: var(--bg);
      color: var(--text);
      scroll-behavior: smooth;
    }
    
    body {
      font-family: var(--font-sans);
      line-height: var(--lh-base);
      margin: 0;
      -webkit-font-smoothing: antialiased;
    }
    
    .mono { font-family: var(--font-mono); }
    .text-balance { text-wrap: balance; }
    
    /* Layout Primitives */
    .page-container {
      width: 100%;
      max-width: var(--container-max);
      margin: 0 auto;
      padding: clamp(2rem, 5vw, 4rem) clamp(1.5rem, 5vw, 3rem);
    }

    .glass-card {
      background-color: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-card);
      transition: var(--transition-main);
    }
    
    /* Railboard Subsystem */
    .rail-container {
      display: flex;
      flex-direction: column;
      gap: 2.5rem;
      position: relative;
    }

    .rail-track {
      position: absolute;
      top: 24px;
      left: 23px;
      bottom: 24px;
      width: 2px;
      background: var(--border-light);
      z-index: 0;
    }

    .rail-node {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
      padding-left: 4.5rem;
      flex: 1;
      cursor: pointer;
      opacity: 0.6;
      transition: var(--transition-main);
      border: none;
      background: transparent;
      text-align: left;
    }

    .rail-point {
      position: absolute;
      left: 14px;
      top: 0;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--surface);
      border: 2px solid var(--border);
      transition: var(--transition-main);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .rail-point::after {
      content: '';
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--border);
      transition: var(--transition-main);
    }

    /* Responsive Rail Transition */
    @media (min-width: 1024px) {
      .rail-container {
        flex-direction: row;
        gap: 0;
      }
      .rail-track {
        top: 23px;
        left: 0;
        right: 0;
        bottom: auto;
        width: 100%;
        height: 2px;
      }
      .rail-node {
        padding-left: 0;
        padding-top: 4rem;
        padding-right: 2rem;
      }
      .rail-point {
        left: 0;
        top: 14px;
      }
    }

    /* Rail Interaction States */
    .rail-node:hover, .rail-node:focus-visible {
      opacity: 1;
      outline: none;
    }
    .rail-node.active {
      opacity: 1;
    }
    
    .rail-node:hover .rail-point, 
    .rail-node:focus-visible .rail-point,
    .rail-node.active .rail-point {
      border-color: var(--accent);
      background: var(--accent-muted);
      box-shadow: 0 0 0 4px var(--accent-muted);
    }
    
    .rail-node:hover .rail-point::after,
    .rail-node:focus-visible .rail-point::after,
    .rail-node.active .rail-point::after {
      background: var(--accent);
    }

    /* Tab Panels */
    .panel-content {
      display: none;
      animation: tabFadeIn 0.3s cubic-bezier(0.22, 1, 0.36, 1);
    }
    .panel-content.active {
      display: block;
    }

    @keyframes tabFadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Code Snippet Blocks */
    .code-window {
      background: var(--surface-l2);
      border: 1px solid var(--border);
      border-radius: var(--radius-card);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .code-header {
      background: var(--surface-l3);
      border-bottom: 1px solid var(--border-light);
      padding: 0.6rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .code-content {
      padding: 1.25rem;
      overflow-x: auto;
      font-size: 0.8125rem;
      line-height: 1.6;
      color: var(--zinc-300);
      flex: 1;
    }

    /* Accessibility Overrides */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
    @media (forced-colors: active) {
      .rail-point, .rail-point::after {
        background: Canvas;
        border-color: CanvasText;
      }
      .rail-node.active .rail-point::after {
        background: Highlight;
      }
    }
  </style>
</head>
<body>

<div class="page-container">
  <section id="operations-overview" class="space-y-12 w-full max-w-6xl mx-auto">
    
    <!-- Section Header -->
    <header class="space-y-5">
      <div class="inline-flex items-center gap-3 border border-[var(--border)] bg-[var(--surface)] px-3 py-1.5 rounded-full text-[10px] font-semibold tracking-widest text-[var(--text-muted)] uppercase">
        <span class="w-1.5 h-1.5 rounded-full bg-[var(--accent)]" aria-hidden="true"></span>
        06 // Lifecycle Operations
      </div>
      <h2 class="text-3xl lg:text-4xl font-semibold tracking-tight text-[var(--text)] text-balance">
        Operational Railboard
      </h2>
      <p class="text-[var(--zinc-400)] text-base max-w-2xl leading-relaxed">
        Navigate the core lifecycle phases. Select a node on the rail below to expose the active governance policies, role assignments, and verifiable commands for each phase.
      </p>
    </header>

    <!-- Interactive Railboard System -->
    <div class="glass-card p-6 lg:p-10 space-y-12">
      
      <!-- Timeline Navigation (Tablist) -->
      <div class="rail-container" role="tablist" aria-label="Lifecycle Workflow Phases">
        <div class="rail-track" aria-hidden="true"></div>
        
        <!-- Phase 1 -->
        <button class="rail-node active" role="tab" aria-selected="true" aria-controls="panel-intake" id="tab-intake" tabindex="0">
          <div class="rail-point" aria-hidden="true"></div>
          <div class="space-y-1.5">
            <div class="text-[10px] mono tracking-widest text-[var(--accent)] transition-colors phase-label">PHASE 01</div>
            <h3 class="text-sm font-semibold text-[var(--text)] m-0">Intake</h3>
            <p class="text-[11px] text-[var(--zinc-400)] m-0">Capture & Constraints</p>
          </div>
        </button>

        <!-- Phase 2 -->
        <button class="rail-node" role="tab" aria-selected="false" aria-controls="panel-route" id="tab-route" tabindex="-1">
          <div class="rail-point" aria-hidden="true"></div>
          <div class="space-y-1.5">
            <div class="text-[10px] mono tracking-widest text-[var(--zinc-500)] transition-colors phase-label">PHASE 02</div>
            <h3 class="text-sm font-semibold text-[var(--text)] m-0">Route</h3>
            <p class="text-[11px] text-[var(--zinc-400)] m-0">Select Workflow</p>
          </div>
        </button>

        <!-- Phase 3 -->
        <button class="rail-node" role="tab" aria-selected="false" aria-controls="panel-execute" id="tab-execute" tabindex="-1">
          <div class="rail-point" aria-hidden="true"></div>
          <div class="space-y-1.5">
            <div class="text-[10px] mono tracking-widest text-[var(--zinc-500)] transition-colors phase-label">PHASE 03</div>
            <h3 class="text-sm font-semibold text-[var(--text)] m-0">Execute</h3>
            <p class="text-[11px] text-[var(--zinc-400)] m-0">Apply Changes</p>
          </div>
        </button>

        <!-- Phase 4 -->
        <button class="rail-node" role="tab" aria-selected="false" aria-controls="panel-validate" id="tab-validate" tabindex="-1">
          <div class="rail-point" aria-hidden="true"></div>
          <div class="space-y-1.5">
            <div class="text-[10px] mono tracking-widest text-[var(--zinc-500)] transition-colors phase-label">PHASE 04</div>
            <h3 class="text-sm font-semibold text-[var(--text)] m-0">Validate</h3>
            <p class="text-[11px] text-[var(--zinc-400)] m-0">Run Checks</p>
          </div>
        </button>

        <!-- Phase 5 -->
        <button class="rail-node" role="tab" aria-selected="false" aria-controls="panel-record" id="tab-record" tabindex="-1">
          <div class="rail-point" aria-hidden="true"></div>
          <div class="space-y-1.5">
            <div class="text-[10px] mono tracking-widest text-[var(--zinc-500)] transition-colors phase-label">PHASE 05</div>
            <h3 class="text-sm font-semibold text-[var(--text)] m-0">Record</h3>
            <p class="text-[11px] text-[var(--zinc-400)] m-0">Save Context</p>
          </div>
        </button>
      </div>

      <!-- Detail Panels Container -->
      <div class="border-t border-[var(--border-light)] pt-10">
        
        <!-- Panel 1: Intake -->
        <div id="panel-intake" class="panel-content active" role="tabpanel" aria-labelledby="tab-intake">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch">
            <div class="lg:col-span-5 space-y-6">
              <div>
                <h4 class="text-xl font-semibold text-[var(--text)] mb-3">Initiate Scope</h4>
                <p class="text-sm text-[var(--zinc-400)] leading-relaxed text-balance">
                  During intake, the system captures the raw request and establishes absolute boundaries. This ensures changes only occur within authorized, strictly defined domains before tools are invoked.
                </p>
              </div>
              <div class="space-y-4 pt-2">
                <div class="flex items-start gap-3 text-sm">
                  <iconify-icon icon="lucide:shield-alert" class="text-[var(--accent)] mt-0.5 text-base" aria-hidden="true"></iconify-icon>
                  <div>
                    <span class="block text-[var(--zinc-200)] font-medium mb-0.5">Governance Lock</span>
                    <span class="text-[var(--zinc-400)] text-xs">Gate 3 requirement explicitly blocks undocumented file modifications.</span>
                  </div>
                </div>
                <div class="flex items-start gap-3 text-sm">
                  <iconify-icon icon="lucide:user-circle" class="text-[var(--accent)] mt-0.5 text-base" aria-hidden="true"></iconify-icon>
                  <div>
                    <span class="block text-[var(--zinc-200)] font-medium mb-0.5">Primary Actor</span>
                    <span class="text-[var(--zinc-400)] text-xs">@orchestrate (Coordination Agent)</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="lg:col-span-7 code-window">
              <div class="code-header">
                <span class="text-[10px] mono uppercase tracking-widest text-[var(--zinc-400)]">CLI Integration</span>
                <button class="copy-btn flex items-center justify-center w-6 h-6 rounded transition-colors text-[var(--zinc-400)] hover:text-[var(--text)] hover:bg-[var(--border-light)] focus:outline-none focus-visible:ring-1 focus-visible:ring-[var(--accent)]" aria-label="Copy snippet">
                  <iconify-icon icon="lucide:copy" class="text-xs"></iconify-icon>
                </button>
              </div>
              <div class="code-content mono">
<pre><code><span class="text-[var(--zinc-500)]"># Verify target boundaries</span>
tool search_tools --task "Locate current scope constraints"

<span class="text-[var(--zinc-500)]"># Generate foundational structure for work</span>
tool run .opencode/skill/system-spec-kit/scripts/create.sh \
  --phase "001-intake" \
  --strict</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 2: Route -->
        <div id="panel-route" class="panel-content" role="tabpanel" aria-labelledby="tab-route">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch">
            <div class="lg:col-span-5 space-y-6">
              <div>
                <h4 class="text-xl font-semibold text-[var(--text)] mb-3">Specialist Routing</h4>
                <p class="text-sm text-[var(--zinc-400)] leading-relaxed text-balance">
                  Complex tasks are decomposed into discrete units and routed to the agent or skill with the highest domain confidence score.
                </p>
              </div>
              <div class="space-y-4 pt-2">
                <div class="flex items-start gap-3 text-sm">
                  <iconify-icon icon="lucide:split" class="text-[var(--accent)] mt-0.5 text-base" aria-hidden="true"></iconify-icon>
                  <div>
                    <span class="block text-[var(--zinc-200)] font-medium mb-0.5">Skill Injection</span>
                    <span class="text-[var(--zinc-400)] text-xs">Confidence â‰¥ 0.8 automatically attaches skill artifacts.</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="lg:col-span-7 code-window">
              <div class="code-header">
                <span class="text-[10px] mono uppercase tracking-widest text-[var(--zinc-400)]">Python</span>
                <button class="copy-btn flex items-center justify-center w-6 h-6 rounded transition-colors text-[var(--zinc-400)] hover:text-[var(--text)] hover:bg-[var(--border-light)] focus:outline-none focus-visible:ring-1 focus-visible:ring-[var(--accent)]" aria-label="Copy snippet">
                  <iconify-icon icon="lucide:copy" class="text-xs"></iconify-icon>
                </button>
              </div>
              <div class="code-content mono">
<pre><code><span class="text-[var(--zinc-500)]"># Evaluate necessary domain expertise</span>
python3 .opencode/skill/scripts/skill_advisor.py \
  "Refactor visual header layout" \
  --threshold 0.8

<span class="text-[var(--zinc-500)]"># Result implies delegation</span>
<span class="text-[var(--success)]">> ROUTING MATCH: sk-doc-visual</span></code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 3: Execute -->
        <div id="panel-execute" class="panel-content" role="tabpanel" aria-labelledby="tab-execute">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch">
            <div class="lg:col-span-5 space-y-6">
              <div>
                <h4 class="text-xl font-semibold text-[var(--text)] mb-3">Surgical Modification</h4>
                <p class="text-sm text-[var(--zinc-400)] leading-relaxed text-balance">
                  The active agent applies precise, verified changes. Sweeping refactors outside the direct scope boundary are strictly prohibited during execution.
                </p>
              </div>
              <div class="space-y-4 pt-2">
                <div class="flex items-start gap-3 text-sm">
                  <iconify-icon icon="lucide:file-code-2" class="text-[var(--accent)] mt-0.5 text-base" aria-hidden="true"></iconify-icon>
                  <div>
                    <span class="block text-[var(--zinc-200)] font-medium mb-0.5">Pre-requisite</span>
                    <span class="text-[var(--zinc-400)] text-xs">A target file must be read into context before it can be altered.</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="lg:col-span-7 code-window">
              <div class="code-header">
                <span class="text-[10px] mono uppercase tracking-widest text-[var(--zinc-400)]">Execution Engine</span>
                <button class="copy-btn flex items-center justify-center w-6 h-6 rounded transition-colors text-[var(--zinc-400)] hover:text-[var(--text)] hover:bg-[var(--border-light)] focus:outline-none focus-visible:ring-1 focus-visible:ring-[var(--accent)]" aria-label="Copy snippet">
                  <iconify-icon icon="lucide:copy" class="text-xs"></iconify-icon>
                </button>
              </div>
              <div class="code-content mono">
<pre><code><span class="text-[var(--zinc-500)]"># 1. Read context safely</span>
tool default_api:read_file { "file_path": "src/layout.css" }

<span class="text-[var(--zinc-500)]"># 2. Execute isolated patch</span>
tool default_api:run_shell_command { 
  "command": "sed -i '' 's/var(--old)/var(--new)/g' src/layout.css" 
}</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 4: Validate -->
        <div id="panel-validate" class="panel-content" role="tabpanel" aria-labelledby="tab-validate">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch">
            <div class="lg:col-span-5 space-y-6">
              <div>
                <h4 class="text-xl font-semibold text-[var(--text)] mb-3">Synthesize & Check</h4>
                <p class="text-sm text-[var(--zinc-400)] leading-relaxed text-balance">
                  Validation is exhaustive and non-negotiable. Syntax, tests, and formatting checks must yield an Exit 0 status before a task is considered structurally complete.
                </p>
              </div>
              <div class="space-y-4 pt-2">
                <div class="flex items-start gap-3 text-sm">
                  <iconify-icon icon="lucide:list-checks" class="text-[var(--accent)] mt-0.5 text-base" aria-hidden="true"></iconify-icon>
                  <div>
                    <span class="block text-[var(--zinc-200)] font-medium mb-0.5">Quality Gate</span>
                    <span class="text-[var(--zinc-400)] text-xs">Verify ALL items in <code>checklist.md</code> prior to saving.</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="lg:col-span-7 code-window">
              <div class="code-header">
                <span class="text-[10px] mono uppercase tracking-widest text-[var(--zinc-400)]">Test Runner</span>
                <button class="copy-btn flex items-center justify-center w-6 h-6 rounded transition-colors text-[var(--zinc-400)] hover:text-[var(--text)] hover:bg-[var(--border-light)] focus:outline-none focus-visible:ring-1 focus-visible:ring-[var(--accent)]" aria-label="Copy snippet">
                  <iconify-icon icon="lucide:copy" class="text-xs"></iconify-icon>
                </button>
              </div>
              <div class="code-content mono">
<pre><code><span class="text-[var(--zinc-500)]"># Trigger workspace validation</span>
npm run validate:ci

<span class="text-[var(--zinc-500)]"># Run discrete checklist verification</span>
./.opencode/skill/system-spec-kit/scripts/validate.sh \
  --recursive \
  --target "specs/001-active"</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 5: Record -->
        <div id="panel-record" class="panel-content" role="tabpanel" aria-labelledby="tab-record">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch">
            <div class="lg:col-span-5 space-y-6">
              <div>
                <h4 class="text-xl font-semibold text-[var(--text)] mb-3">Context Preservation</h4>
                <p class="text-sm text-[var(--zinc-400)] leading-relaxed text-balance">
                  Once validated, session state and architectural decisions are persisted into the local spec directory. This primes the context engine for the next iteration.
                </p>
              </div>
              <div class="space-y-4 pt-2">
                <div class="flex items-start gap-3 text-sm">
                  <iconify-icon icon="lucide:database" class="text-[var(--accent)] mt-0.5 text-base" aria-hidden="true"></iconify-icon>
                  <div>
                    <span class="block text-[var(--zinc-200)] font-medium mb-0.5">Persistence</span>
                    <span class="text-[var(--zinc-400)] text-xs">Indexes directly to Spec Kit Memory MCP.</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="lg:col-span-7 code-window">
              <div class="code-header">
                <span class="text-[10px] mono uppercase tracking-widest text-[var(--zinc-400)]">Node Script</span>
                <button class="copy-btn flex items-center justify-center w-6 h-6 rounded transition-colors text-[var(--zinc-400)] hover:text-[var(--text)] hover:bg-[var(--border-light)] focus:outline-none focus-visible:ring-1 focus-visible:ring-[var(--accent)]" aria-label="Copy snippet">
                  <iconify-icon icon="lucide:copy" class="text-xs"></iconify-icon>
                </button>
              </div>
              <div class="code-content mono">
<pre><code><span class="text-[var(--zinc-500)]"># Save validated state to memory</span>
node .opencode/skill/system-spec-kit/scripts/dist/memory/generate-context.js \
  specs/001-active

<span class="text-[var(--zinc-500)]"># Trigger indexer for MCP visibility</span>
tool default_api:handover { "query": "Finalize phase 1" }</code></pre>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>
</div>

<script>
  // Self-contained Railboard Logic
  document.addEventListener('DOMContentLoaded', () => {
    const tabs = document.querySelectorAll('.rail-node');
    const panels = document.querySelectorAll('.panel-content');

    const activateTab = (selectedTab) => {
      // Deactivate all
      tabs.forEach(t => {
        t.classList.remove('active');
        t.setAttribute('aria-selected', 'false');
        t.setAttribute('tabindex', '-1');
        
        const label = t.querySelector('.phase-label');
        if (label) {
          label.classList.remove('text-[var(--accent)]');
          label.classList.add('text-[var(--zinc-500)]');
        }
      });
      
      panels.forEach(p => p.classList.remove('active'));

      // Activate selected
      selectedTab.classList.add('active');
      selectedTab.setAttribute('aria-selected', 'true');
      selectedTab.setAttribute('tabindex', '0');
      
      const activeLabel = selectedTab.querySelector('.phase-label');
      if (activeLabel) {
        activeLabel.classList.add('text-[var(--accent)]');
        activeLabel.classList.remove('text-[var(--zinc-500)]');
      }

      const panelId = selectedTab.getAttribute('aria-controls');
      const targetPanel = document.getElementById(panelId);
      if (targetPanel) {
        targetPanel.classList.add('active');
      }
    };

    // Click events
    tabs.forEach(tab => {
      tab.addEventListener('click', () => activateTab(tab));

      // Keyboard navigation
      tab.addEventListener('keydown', (e) => {
        const index = Array.from(tabs).indexOf(tab);
        let nextIndex = index;

        if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
          nextIndex = (index + 1) % tabs.length;
          e.preventDefault();
        } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
          nextIndex = (index - 1 + tabs.length) % tabs.length;
          e.preventDefault();
        } else if (e.key === 'Home') {
          nextIndex = 0;
          e.preventDefault();
        } else if (e.key === 'End') {
          nextIndex = tabs.length - 1;
          e.preventDefault();
        }

        if (index !== nextIndex) {
          tabs[nextIndex].focus();
          activateTab(tabs[nextIndex]);
        }
      });
    });

    // Code snippet copy utility
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const codeElement = btn.closest('.code-window').querySelector('code');
        if (!codeElement) return;

        navigator.clipboard.writeText(codeElement.innerText).then(() => {
          const icon = btn.querySelector('iconify-icon');
          const originalIcon = icon.getAttribute('icon');
          
          icon.setAttribute('icon', 'lucide:check-circle');
          btn.classList.add('text-[var(--success)]');
          btn.setAttribute('aria-label', 'Copied successfully');

          setTimeout(() => {
            icon.setAttribute('icon', originalIcon);
            btn.classList.remove('text-[var(--success)]');
            btn.setAttribute('aria-label', 'Copy snippet');
          }, 2000);
        }).catch(err => console.error('Clipboard write failed:', err));
      });
    });
  });
</script>

</body>
</html>
