<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <meta name="ve-artifact-type" content="auto">
  <meta name="ve-source-doc" content="support-playbook">
  <meta name="ve-speckit-level" content="2">
  <meta name="ve-view-mode" content="traceability-board">
  <title>Support Playbook</title>
  <style>
    /* CSS Variables embedded for standalone encapsulation */
    :root {
      --bg: #131314;
      --surface: #1c1c1e;
      --surface-l2: #252528;
      --surface-l3: #2d2d30;
      --text: #fafafa;
      --text-muted: #71717a;
      --accent: #3b82f6;
      --accent-muted: rgba(59, 130, 246, 0.1);
      --border: rgba(255, 255, 255, 0.08);
      --border-light: rgba(255, 255, 255, 0.05);
      --success: #22c55e;
      --warning: #ffbd2e;
      --error: #ff5f56;
      --zinc-200: #e4e4e7;
      --zinc-300: #d4d4d8;
      --zinc-400: #a1a1aa;
      --zinc-500: #71717a;
      
      --font-sans: 'Helvetica', 'Inter', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
      
      --container-max: 96rem;
      --radius-card: 12px;
      --radius-bento: 1rem;
      --lh-base: 1.75;
      
      --transition-main: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f4f4f5;
        --surface: #ffffff;
        --surface-l2: #f4f4f5;
        --surface-l3: #e4e4e7;
        --text: #18181b;
        --text-muted: #71717a;
        --border: rgba(0, 0, 0, 0.1);
        --border-light: rgba(0, 0, 0, 0.05);
        --zinc-200: #3f3f46;
        --zinc-300: #52525b;
        --zinc-400: #71717a;
      }
    }

    html {
      box-sizing: border-box;
      background-color: var(--bg);
      color: var(--text);
      font-family: var(--font-sans);
      line-height: var(--lh-base);
      -webkit-font-smoothing: antialiased;
    }

    *, *:before, *:after {
      box-sizing: inherit;
    }

    body {
      margin: 0;
      padding: 0;
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* Structural Layout */
    .playbook-container {
      max-width: var(--container-max);
      margin: 0 auto;
      padding: clamp(2rem, 5vw, 4rem);
    }

    .playbook-header {
      margin-bottom: 3rem;
      border-bottom: 1px solid var(--border);
      padding-bottom: 2rem;
    }

    .playbook-title {
      font-size: 2.25rem;
      font-weight: 600;
      margin: 0 0 0.5rem 0;
      letter-spacing: -0.02em;
    }

    .playbook-subtitle {
      color: var(--text-muted);
      margin: 0;
      font-size: 1.125rem;
      max-width: 65ch;
    }

    .playbook-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 3rem;
      align-items: start;
    }

    @media (min-width: 1024px) {
      .playbook-grid {
        grid-template-columns: minmax(0, 2fr) minmax(300px, 1fr);
      }
    }

    /* Troubleshooting Playbook Lane */
    .process-lane {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .process-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-bento);
      padding: 1.5rem;
      position: relative;
      transition: var(--transition-main);
    }

    .process-card:hover {
      border-color: var(--border-light);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1.25rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .incident-type {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
    }

    .indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    .indicator.critical { background-color: var(--error); }
    .indicator.degraded { background-color: var(--warning); }
    .indicator.minor { background-color: var(--accent); }

    .card-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin: 0 0 0.5rem 0;
      color: var(--text);
    }

    .card-desc {
      color: var(--zinc-300);
      font-size: 0.875rem;
      margin: 0 0 1.5rem 0;
      max-width: 65ch;
    }

    .action-steps {
      list-style: none;
      padding: 0;
      margin: 0 0 1.5rem 0;
      border-left: 2px solid var(--border);
      margin-left: 0.5rem;
    }

    .step-item {
      position: relative;
      padding-left: 1.5rem;
      margin-bottom: 1.25rem;
      font-size: 0.875rem;
      color: var(--zinc-200);
    }

    .step-item:last-child {
      margin-bottom: 0;
    }

    .step-item::before {
      content: '';
      position: absolute;
      left: -5px;
      top: 0.5rem;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--surface-l2);
      border: 2px solid var(--border);
    }

    .step-code {
      display: block;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      background: var(--surface-l2);
      padding: 0.75rem;
      border-radius: 6px;
      margin-top: 0.5rem;
      color: var(--zinc-300);
      border: 1px solid var(--border-light);
      overflow-x: auto;
    }
    
    .badge-mono {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      background: var(--surface-l2);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      color: var(--zinc-300);
      border: 1px solid var(--border-light);
    }

    /* Escalation Protocol Focus */
    .escalation-checkpoint {
      background: var(--surface-l2);
      border-left: 3px solid var(--error);
      padding: 1.25rem;
      border-radius: 0 var(--radius-card) var(--radius-card) 0;
      font-size: 0.875rem;
    }

    .escalation-title {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--error);
      font-weight: 600;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.05em;
    }

    .escalation-desc {
      color: var(--zinc-300);
      margin: 0;
      font-size: 0.875rem;
      line-height: 1.6;
    }

    /* Sidebar Context & FAQ */
    .support-sidebar {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      position: sticky;
      top: 2rem;
    }

    .status-panel {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-card);
      padding: 1.5rem;
    }

    .section-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-bottom: 1.25rem;
      font-weight: 600;
    }

    .status-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--border-light);
      font-size: 0.875rem;
    }
    .status-row:last-child {
      border-bottom: none;
      padding-bottom: 0;
    }

    .status-label {
      color: var(--zinc-300);
    }

    .status-value {
      font-family: var(--font-mono);
      font-size: 0.75rem;
    }

    .status-value.ok { color: var(--success); }

    .faq-accordion {
      border: 1px solid var(--border);
      border-radius: var(--radius-card);
      overflow: hidden;
      background: var(--surface);
    }

    .faq-item {
      border-bottom: 1px solid var(--border-light);
    }
    .faq-item:last-child {
      border-bottom: none;
    }

    .faq-summary {
      padding: 1.25rem;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      user-select: none;
      color: var(--zinc-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background 0.2s ease;
      outline: none;
    }

    .faq-summary:hover, .faq-summary:focus-visible {
      background: var(--surface-l2);
    }

    .faq-summary::after {
      content: '+';
      color: var(--text-muted);
      font-family: var(--font-mono);
    }

    details[open] .faq-summary::after {
      content: '-';
    }
    
    details[open] .faq-summary {
      background: var(--surface-l2);
      border-bottom: 1px solid var(--border-light);
    }

    .faq-content {
      padding: 1.25rem;
      font-size: 0.875rem;
      color: var(--zinc-400);
      line-height: 1.6;
      background: var(--bg);
    }
    
    .faq-content a {
      color: var(--accent);
      text-decoration: none;
    }
    
    .faq-content a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

<main class="playbook-container" aria-labelledby="support-heading">
  
  <header class="playbook-header">
    <h1 id="support-heading" class="playbook-title">Service Playbook &amp; Escalation</h1>
    <p class="playbook-subtitle">Diagnostic procedures, remediation steps, and hard escalation boundaries for resolving system anomalies before requesting Tier 2 support.</p>
  </header>

  <div class="playbook-grid">
    
    <!-- Left Column: Procedural Pathways -->
    <section class="process-lane" aria-label="Troubleshooting Procedures">
      
      <!-- Critical Incident -->
      <article class="process-card">
        <header class="card-header">
          <div class="incident-type">
            <span class="indicator critical" aria-hidden="true"></span>
            Critical Impact
          </div>
          <span class="badge-mono">ERR_SVC_DOWN</span>
        </header>
        
        <h2 class="card-title">Core Service Unresponsive (Crashloop)</h2>
        <p class="card-desc">The primary application daemon fails to bind to the required port or continuously restarts, causing a total localized outage.</p>
        
        <ol class="action-steps">
          <li class="step-item">
            <strong>Verify port availability:</strong> Ensure no zombie processes are holding the designated binding port.
            <code class="step-code">sudo lsof -i :8080</code>
          </li>
          <li class="step-item">
            <strong>Check daemon logs for panic traces:</strong> Identify syntax faults or memory exhaustion signals.
            <code class="step-code">journalctl -u core-service -n 50 --no-pager</code>
          </li>
          <li class="step-item">
            <strong>Validate configuration syntax:</strong> Run the dry-run parser against the active configuration map.
            <code class="step-code">app-cli validate-config /etc/app/config.yml</code>
          </li>
        </ol>

        <div class="escalation-checkpoint">
          <div class="escalation-title">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
            Hard Escalation Checkpoint
          </div>
          <p class="escalation-desc">If the configuration validates but the service panics on startup, capture the stack trace and immediately page the <strong>Platform Engineering</strong> on-call. Do not attempt blind rollbacks.</p>
        </div>
      </article>

      <!-- Degraded State -->
      <article class="process-card">
        <header class="card-header">
          <div class="incident-type">
            <span class="indicator degraded" aria-hidden="true"></span>
            Degraded State
          </div>
          <span class="badge-mono">WARN_LATENCY</span>
        </header>
        
        <h2 class="card-title">Elevated API Latency</h2>
        <p class="card-desc">Requests are completing, but p99 latency has exceeded the 500ms threshold, triggering upstream circuit breakers.</p>
        
        <ol class="action-steps">
          <li class="step-item">
            <strong>Inspect connection pool metrics:</strong> Ensure the database connection pool is not exhausted.
            <code class="step-code">curl -s http://localhost:9090/metrics | grep db_pool_active</code>
          </li>
          <li class="step-item">
            <strong>Identify query bottlenecks:</strong> Check slow query logs in the database cluster via the telemetry dashboard.
          </li>
          <li class="step-item">
            <strong>Scale out replica sets:</strong> If the service is CPU bound, manually deploy additional read replicas.
          </li>
        </ol>

        <div class="escalation-checkpoint" style="border-left-color: var(--warning);">
          <div class="escalation-title" style="color: var(--warning);">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
            Review Checkpoint
          </div>
          <p class="escalation-desc">If latency persists after horizontal scaling, open a high-priority ticket with the <strong>Database Team</strong> to review indexing strategies and query plans.</p>
        </div>
      </article>

      <!-- Minor Issue -->
      <article class="process-card">
        <header class="card-header">
          <div class="incident-type">
            <span class="indicator minor" aria-hidden="true"></span>
            Minor Issue
          </div>
          <span class="badge-mono">ERR_CACHE_MISS</span>
        </header>
        
        <h2 class="card-title">Cache Synchronization Failure</h2>
        <p class="card-desc">Edge nodes are serving stale payload assets due to a breakdown in the invalidation pipeline.</p>
        
        <ol class="action-steps">
          <li class="step-item">
            <strong>Verify webhook delivery:</strong> Check the CMS webhook logs for failed payload deliveries or 5xx responses.
          </li>
          <li class="step-item">
            <strong>Manually purge the edge cache:</strong> Force an immediate invalidation of the affected paths.
            <code class="step-code">cli-tool cache purge --zone=global --path="/assets/*"</code>
          </li>
        </ol>
      </article>

    </section>

    <!-- Right Column: Context & Metadata -->
    <aside class="support-sidebar" aria-label="Support Context and FAQ">
      
      <div class="status-panel">
        <h3 class="section-label">Diagnostic Context</h3>
        <div class="status-row">
          <span class="status-label">Runbook Version</span>
          <span class="status-value text-muted">v4.0.0</span>
        </div>
        <div class="status-row">
          <span class="status-label">System Status</span>
          <span class="status-value ok">OPERATIONAL</span>
        </div>
        <div class="status-row">
          <span class="status-label">Last Audit</span>
          <span class="status-value text-muted">2026-02-28</span>
        </div>
        <div class="status-row" style="margin-top: 1rem; border-top: 1px dashed var(--border); padding-top: 1rem;">
          <span class="status-label">On-Call Tier 1</span>
          <span class="status-value">@sre-primary</span>
        </div>
      </div>

      <div>
        <h3 class="section-label">Self-Serve FAQs</h3>
        <div class="faq-accordion">
          
          <details class="faq-item" name="faq">
            <summary class="faq-summary">How do I request emergency access?</summary>
            <div class="faq-content">
              Submit a break-glass request via the internal identity portal. Approval is automatically granted to members of the <code>sysadmin</code> and <code>sre</code> groups for 2 hours. All actions are audited.
            </div>
          </details>

          <details class="faq-item" name="faq">
            <summary class="faq-summary">Where are historical incident reports?</summary>
            <div class="faq-content">
              Post-mortems and incident timelines are archived in the <a href="#">Reliability Wiki</a>. Ensure you have the correct IAM roles to view restricted root-cause analyses.
            </div>
          </details>

          <details class="faq-item" name="faq">
            <summary class="faq-summary">Can I bypass an escalation checkpoint?</summary>
            <div class="faq-content">
              No. Escalation checkpoints are mandatory guardrails designed to prevent cascading failures. Proceeding past a checkpoint without domain expert approval violates the SLA operating agreement.
            </div>
          </details>

        </div>
      </div>

    </aside>

  </div>

</main>

</body>
</html>
