# v2.4.0.2

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.4.0.2**] - 2026-02-25

**Ultra-think and orchestrator consistency patch across all runtime folders.** Finalizes the post-introduction hardening pass by capping Ultra-think strategy fan-out to max 3, aligning depth behavior with single-hop NDP constraints, and bringing orchestrator routing parity to OpenCode, ChatGPT, Claude, Gemini, and Codex adapters.

---

## Highlights

### Category: Agent Runtime Consistency

- **Ultra-think capped to max 3 strategies** across all runtime adapters to reduce context overhead and enforce deterministic planning behavior.
- **Depth semantics standardized** so orchestrator-dispatched execution always follows depth-1 no-subdispatch behavior.
- **Timeout handling standardized** with `TIMEOUT (N/A)` and exclusion from aggregate scoring.

### Category: Orchestrator Coverage Expansion

- **Orchestrate adapters updated in Claude, Gemini, and Codex** to match OpenCode/ChatGPT parity for `@ultra-think` routing and LEAF constraints.
- **Task dispatch schemas updated** so `@ultra-think` is available in structured delegation templates across runtimes.

### Category: Canonical Path Updates

- **Codex orchestrate/ultra-think adapters now reference canonical OpenCode playbooks** instead of ChatGPT-specific files.

## Included Component Releases

- `.opencode/changelog/03--agent-orchestration/v2.1.0.1.md`

## Files Changed

- `.opencode/agent/ultra-think.md` · `.opencode/agent/chatgpt/ultra-think.md` · `.claude/agents/ultra-think.md` · `.gemini/agents/ultra-think.md` · `.codex/agents/ultra-think.toml`
- `.opencode/agent/orchestrate.md` · `.opencode/agent/chatgpt/orchestrate.md` · `.claude/agents/orchestrate.md` · `.gemini/agents/orchestrate.md` · `.codex/agents/orchestrate.toml`
- `.opencode/changelog/03--agent-orchestration/v2.1.0.1.md` · `.opencode/changelog/00--opencode-environment/v2.4.0.2.md` · `PUBLIC_RELEASE.md`

**Total: 13 files modified/added**

## Upgrade

No migration required. Pull latest to apply the orchestration routing and planning-agent consistency updates.
