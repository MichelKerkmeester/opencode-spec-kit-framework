# v1.0.8.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**1.0.8.0**] - 2026-01-23

**SpecKit Intelligence Upgrade** — Comprehensive framework redesign introducing dual-threshold validation (confidence + uncertainty), Five Checks Framework for architectural decisions, and major script reorganization. Includes 34 file changes across AGENTS.md, skill_advisor.py, documentation overhaul, and new reference materials for epistemic reasoning.

> Spec folder: `system-spec-kit/intelligence-upgrade`

---

## Highlights

### Dual-Threshold Validation (Gate 2)
- **READINESS formula**: `(confidence >= 0.70) AND (uncertainty <= 0.35)` — Confidence alone is insufficient; now requires both dimensions
- **"Confident Ignorance" detection**: High confidence + high uncertainty triggers investigation protocol (max 3 iterations before escalate)
- **4-factor uncertainty model**: Epistemic gaps (0.30), Model boundaries (0.25), Temporal variability (0.20), Situational completeness (0.25)
- **skill_advisor.py**: New `calculate_uncertainty()` and `passes_dual_threshold()` functions

### Five Checks Framework
- **Architectural validation**: Required for Level 3/3+ specs, recommended for Level 2
- **5 checks**: Necessary? (solving actual need), Beyond Local Maxima? (alternatives explored), Sufficient? (simplest approach), Fits Goal? (on critical path), Open Horizons? (long-term aligned)
- **New reference**: `references/validation/five-checks.md`

### Script Reorganization
- **decision-tree-generator.js**: Moved `extractors/` → `lib/` (generator, not extractor)
- **opencode-capture.js**: Moved `lib/` → `extractors/` (captures session data)
- **Import paths**: Updated in 5 files (decision-extractor, diagram-extractor, data-loader, index.js, test file)

### Documentation Overhaul
- **AGENTS.md**: Agent Routing now Section 6, Tool System → 7, Skills System → 8
- **README.md**: Streamlined with -625 net lines reduction
- **New references**: `epistemic-vectors.md`, `decision-format.md`, `five-checks.md`
- **New handler**: `session-learning.js` for cognitive memory
- **MCP Server README**: Reorganized with clearer tool documentation
- **Templates**: Enhanced context_template.md, decision-record.md, tasks.md

### Fixed
- **Gate Numbering**: Consistent sequential numbering throughout documentation
- **gate-enforcement.md line 199**: "Gate 3" → "Gate 1" for Memory Context Loading
- **SKILL.md line 855**: "4 files + README" → "5 subdirs + README" for templates/verbose/
- **package.json**: Removed reference to non-existent index-cli.js
- **scripts-registry.json**: Updated opencode-capture path to extractors/

## Files Changed
- 4 core files (AGENTS.md, README.md, CHANGELOG.md, skill_advisor.py)
- 30 system-spec-kit files: SKILL.md, mcp_server/package.json, constitutional/gate-enforcement.md, scripts/extractors/ (6 files), scripts/lib/ (2 files), scripts/loaders/ (1 file), references/ (4 new + 4 modified), templates/ (3 files), mcp_server/handlers/ (2 files), mcp_server/README.md

## Upgrade
No action required. Pull latest to get dual-threshold validation in skill routing, Five Checks Framework for architectural decisions, and reorganized scripts with correct import paths.
