# v2.4.0.1

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.4.0.1**] - 2026-02-25

**New @ultra-think multi-strategy planning agent + sk-git deterministic commit logic.** Adds the 11th agent to the fleet: `@ultra-think` dispatches 2-5 diverse thinking strategies (Analytical, Creative, Critical, Pragmatic, Holistic), scores via a 5-dimension rubric, and outputs a synthesized plan for user review. Deployed across **5 runtime platforms** (OpenCode, ChatGPT, Gemini, Codex, Claude). Also ships deterministic commit-message type/scope logic for sk-git.

---

## Highlights

### Category: Features

- **@ultra-think agent added across 5 platforms**: Multi-strategy planning architect that dispatches N diverse thinking strategies per task, scores all results via a 100-point rubric (Correctness 30%, Completeness 20%, Elegance 15%, Robustness 20%, Integration 15%), and synthesizes the optimal plan from best elements. Planning-only: read/search access for analysis, no file modifications.
- **Primary agent (not a subagent)**: Configured as `mode: primary` with write/edit/bash denied. Users invoke it directly for complex tasks that benefit from multi-perspective analysis before implementation.
- **Platform-specific adaptations**: OpenCode uses Task tool for parallel dispatch. ChatGPT adds adaptive modes (Quick N=2, Standard N=3, Deep N=4-5). Gemini limits tools to `read_file`, `grep_search`, `list_directory`. Codex runs in read-only sandbox. Claude dispatches strategy subagents with `model: "sonnet"` for cost efficiency.
- **HVR-compliant agent definitions**: All agent files follow Human Voice Rules v0.210 with em-dashes replaced by commas, full stops, or colons throughout.

### Category: Documentation

- **Agent count incremented to 11**: README.md agent table, introductory text, and "How Agents Get Chosen" section updated.
- **AGENTS.md updated across 3 variants**: `@ultra-think` added to Agent Definitions in the universal template (`AGENTS.md`), full-stack enterprise example (`AGENTS_example_fs_enterprises.md`), and Barter project (`Barter/coder/AGENTS.md`).
- **Agent orchestration changelog created**: `03--agent-orchestration/v2.1.0.0.md` documents the full agent addition with platform-by-platform details.

### Category: Fixes

- **sk-git deterministic commit-message logic**: Added type/scope commit-subject rules to SKILL.md, synced commit logic across workflow/template references, and added sk-git CHANGELOG.md entry.

## Included Component Releases

- `.opencode/changelog/03--agent-orchestration/v2.1.0.0.md`
- `.opencode/skill/sk-git/changelog/CHANGELOG.md`

## Files Changed

- `.opencode/agent/ultra-think.md` · `.opencode/agent/chatgpt/ultra-think.md` · `.gemini/agents/ultra-think.md` · `.codex/agents/ultra-think.toml` · `.claude/agents/ultra-think.md`
- `.opencode/changelog/03--agent-orchestration/v2.1.0.0.md`
- `.opencode/skill/sk-git/SKILL.md` · `.opencode/skill/sk-git/README.md` · `.opencode/skill/sk-git/assets/commit_message_template.md` · `.opencode/skill/sk-git/changelog/CHANGELOG.md` · `.opencode/skill/sk-git/references/commit_workflows.md`
- `AGENTS.md` · `AGENTS_example_fs_enterprises.md` · `README.md`

**Total: 5 files added, 9 files modified**

## Upgrade

No migration required. Pull latest to activate. The `@ultra-think` agent is opt-in and invoked directly when multi-strategy planning analysis is needed.
