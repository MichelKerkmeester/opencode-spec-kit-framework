# v1.2.2.2

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**1.2.2.2**] - 2026-02-04

**MCP Server Reliability** — Fixes 5 critical bugs in Spec Kit Memory MCP server improving embedding reliability and error handling.

---

## Highlights

### Critical Bug Fixes

- **Background retry job**: Now starts automatically on MCP startup (was never called)
- **Dimension validation**: Detects provider/database dimension mismatch on startup
- **Fallback warmup**: Handles warmup errors gracefully in factory.js
- **Document embedding**: Retry manager uses correct task prefix for Nomic model
- **Model timeout**: Prevents infinite hang on corrupted ONNX cache (2-min timeout)

### Changed

- **ClickUp MCP config**: Simplified `.utcp_config.json`

## Files Changed

`context-server.js` · `vector-index.js` · `retry-manager.js` · `factory.js` · `hf-local.js` · `.utcp_config.json`

## Upgrade
