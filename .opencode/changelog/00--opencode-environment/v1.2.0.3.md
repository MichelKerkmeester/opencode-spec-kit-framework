# v1.2.0.3

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**1.2.0.3**] - 2026-02-03

**System-Spec-Kit Fixes** — Improved memory save reliability and generate-context script stability

> Spec folder: specs/084, specs/085

---

## Highlights

### Fixed

- **Infrastructure work domain detection** — Memory files now correctly route to infrastructure-related spec folders when working on `.opencode/` files
  - New `detect_work_domain()` analyzes file paths from observations
  - +40 alignment bonus for folders matching infrastructure patterns
  - `/memory:continue` validates `key_files` vs `spec_folder`
  - Fixes spec-kit work going to project folders (e.g., `005-project-site` instead of `003-memory-and-spec-kit`)

- **generate-context.js API mismatch** — Fixed `get_db is not a function` error
  - Added snake_case export aliases to `vector-index.js`
  - Suppressed V2.2 placeholder warnings for unimplemented features

## Files Changed

- `alignment-validator.js` — Infrastructure domain detection
- `continue.md` — Validation logic
- `vector-index.js` — Export aliases
- `template-renderer.js` — Warning suppression

## Upgrade
