# v2.1.3.6

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.1.3.6**] - 2026-02-19

**Memory-save routing fix and recovery release** -- Resolves a `/memory:save` edge case where `.opencode/specs/...` JSON folder values could be ignored, causing fallback to the wrong nested spec, then restores and re-indexes the affected session memory in the correct spec.

---

## Highlights

### Category: System Spec Kit

- **Spec folder resolution fixed**: JSON `SPEC_FOLDER` values now support absolute, `specs/...`, and `.opencode/specs/...` forms without fallback misrouting.
- **Symlink-safe specs discovery**: Specs roots are de-duplicated by realpath to avoid dual-root warnings and selection ambiguity when `specs` is symlinked.

### Category: Memory Recovery

- **Session memory corrected**: Misrouted memory was moved into `.opencode/specs/004-agents/021-codex-orchestrate/memory/` and normalized to the correct spec metadata.
- **Index consistency restored**: New corrected memory was indexed and wrong-folder entries were removed.

### Category: Documentation

- **Component changelog added**: `.opencode/changelog/01--system-spec-kit/v2.2.22.1.md` documents the hotfix and recovery details.

## Files Changed

- `.opencode/skill/system-spec-kit/scripts/core/config.ts`
- `.opencode/skill/system-spec-kit/scripts/spec-folder/folder-detector.ts`
- `.opencode/specs/004-agents/021-codex-orchestrate/memory/19-02-26_17-51__codex-orchestrate.md`
- `.opencode/changelog/01--system-spec-kit/v2.2.22.1.md`
- `.opencode/changelog/00--opencode-environment/v2.1.3.6.md`

## Upgrade

No migration is required. Pull latest to get corrected memory-save folder resolution and recovery behavior.
