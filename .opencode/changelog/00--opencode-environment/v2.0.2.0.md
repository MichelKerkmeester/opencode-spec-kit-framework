# v2.0.2.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.0.2.0**] - 2026-02-14

**Command Agent Utilization Audit** â€” Enforced AGENTS.md routing rules across **33 command files** (create + spec_kit). Spec folder creation routes through @speckit, discovery through @context, quality scoring through @review. Spec_kit commands gained @debug, @research, and @handover routing. Validated with **204 verification checks** and an **18-test sub-agent simulation suite** (18/18 PASS).

> Spec folder: `anobel.com/.opencode/specs/004-agents/014-command-agent-utilization/` (Level 3)

---

## Highlights

### Agent Routing Compliance

All create and spec_kit commands now comply with AGENTS.md routing rules:

- **Create commands** (18 files): @speckit for spec folder creation (Rule 5), @context for discovery (Rule 4), @review for quality gates (Section 3). 204/204 verification checks passed
- **Spec_kit commands** (15 files): @debug at failure >= 3, @research on confidence < 60%, dual-phase @review (Mode 2 + Mode 4), @handover at session end
- **Key decisions**: @review non-blocking on create commands; scope narrowed from 12 to 4 files for spec folder routing after grep audit

### Test Suite

Sub-agent simulation test suite for all 7 spec_kit command workflows:

- **18 tests**: 7 happy paths + 11 error/edge cases across plan, implement, complete, research, debug, resume, handover
- **Architecture**: Orchestrator dispatches 7 test agents in 3 batches, each simulating YAML workflow execution with scripted inputs
- **All 18/18 passed**: Artifact generation, quality gates, error handling, agent routing all verified
- **Located in**: `specs/004-agents/014-command-agent-utilization/test-suite/`

## Files Changed

**33 command files:** 12 create YAML + 6 create MD + 10 spec_kit YAML + 5 spec_kit MD in `.opencode/command/{create,spec_kit}/`

**Test suite:** `test-suite/` directory with orchestrator, 7 agent prompts, scripted responses, 18 workspaces, and test report

## Series: Agent Routing Compliance

| Version | Theme |
|---------|-------|
| **2.0.2.0** | Command agent utilization audit (create + spec_kit + test suite) |

## Upgrade

No action required. Pull latest to get agent routing compliance and test suite.
