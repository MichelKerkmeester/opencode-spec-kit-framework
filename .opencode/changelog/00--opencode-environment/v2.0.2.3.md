# v2.0.2.3

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.0.2.3**] - 2026-02-15

Relocated node_modules from workspace root into `mcp_server/` where dependencies belong -- **12+ files** updated, npm `install-strategy=nested` adopted (spec 120).

---

## Highlights

### Node Modules Relocation

| Change | Detail |
|--------|--------|
| `.npmrc` | NEW -- `install-strategy=nested` disables workspace hoisting |
| `package.json` (root) | Removed redundant `better-sqlite3` from root deps |
| `mcp_server/package.json` | Added `sqlite-vec-darwin-arm64` as optionalDependency for nested installs |
| Symlink | `lib/cache/cognitive` -> `../cognitive` fixes TypeScript build paths |

### Documentation Path Updates

| File | Change |
|------|--------|
| `mcp_server/INSTALL_GUIDE.md` | All `system-spec-kit/node_modules/` -> `mcp_server/node_modules/` |
| `install_guides/README.md` | HuggingFace cache path corrected |
| `install-spec-kit-memory.sh` | Install/rebuild/verify commands target `mcp_server/` |
| `check-native-modules.sh` | better-sqlite3 probe path updated |
| `rebuild-native-modules.sh` | Rebuild location updated to `mcp_server/` |

### Source Code Updates

| File | Change |
|------|--------|
| `scripts/spec-folder/folder-detector.ts` | better-sqlite3 require path -> `mcp_server/node_modules/` |
| `scripts/tests/test-folder-detector-functional.js` | Test paths updated to match |

## Verification

- MCP server starts: 1142/1142 entries valid, embedding dimension 1024
- sqlite-vec loads correctly (platform package at sibling level)
- TypeScript build succeeds

## Upgrade

No action required. Pull latest to get relocated dependencies. If running a linked project, restart the MCP server.
