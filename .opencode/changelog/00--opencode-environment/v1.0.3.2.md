# v1.0.3.2

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**1.0.3.2**] - 2026-01-05

**MCP Portability & Environment Variables** — Embeds MCP server source code into skill folders for improved portability. Documents critical Code Mode prefixed environment variable requirement that was causing "Variable not found" errors. Updates install guides with comprehensive troubleshooting.

---

## Highlights

### New

- **Embedded MCP Servers** — Narsil source in `mcp-narsil/mcp_server/`, Code Mode source in `mcp-code-mode/mcp_server/`
- **Environment Template** — `.env.example` template with Code Mode prefixed variables documented

### Changed

- **Install Guides Updated** — `MCP - Narsil.md` · `MCP - Code Mode.md` with prefixed variable documentation
- **Code Mode Install Guide** — Added "CRITICAL: Prefixed Environment Variables" section
- **Narsil Install Guide** — Added prefixed variable note in Neural Search Configuration
- **Troubleshooting** — New entries for "Variable not found" errors in both guides

### Fixed

- **Documentation Gap** — Code Mode requires `{manual}_{VAR}` format (e.g., `narsil_VOYAGE_API_KEY`)
- **Public Repo Configs** — Removed hardcoded API keys and absolute paths

## Upgrade

Add prefixed variables to `.env` for Code Mode:
```bash
# Standard variable
VOYAGE_API_KEY=pa-your-key

# Code Mode prefixed version (REQUIRED)
narsil_VOYAGE_API_KEY=pa-your-key
```

See `.env.example` for complete template.
