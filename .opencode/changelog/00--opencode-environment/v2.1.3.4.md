# v2.1.3.4

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.1.3.4**] - 2026-02-19

**Runtime-path command release and agent-set normalization** -- Standardized command runtime agent-path routing across **33 command files** and completed agent/profile alignment updates across default, ChatGPT, and Claude trees, with Level 3 spec evidence synchronized under `021-codex-orchestrate`.

---

## Highlights

### Category: Agent Files

- **Core agent docs normalized**: `.opencode/agent/context.md`, `.opencode/agent/debug.md`, `.opencode/agent/handover.md`, `.opencode/agent/research.md`, `.opencode/agent/review.md`, `.opencode/agent/speckit.md`, `.opencode/agent/write.md`, and `.opencode/agent/orchestrate.md` were aligned for section order and routing language consistency.
- **ChatGPT agent set aligned**: `.opencode/agent/chatgpt/{context,debug,handover,orchestrate,research,review,speckit,write}.md` now uses the same illegal-nesting hard-block placement, output-tail ordering, and summary formatting conventions.
- **Claude agent runtime path finalized**: moved active Claude definitions to `.opencode/agent/claude/{context,debug,handover,orchestrate,research,review,speckit,write}.md` and kept `.claude/agents` as a compatibility symlink.
- **Agent path guidance clarified**: runtime mapping language now consistently points to canonical roots (`.opencode/agent`, `.opencode/agent/chatgpt`, `.opencode/agent/claude`) across policy and command references.

### Category: Commands

- **Runtime-aware command routing**: Replaced hardcoded command-side agent references with `[runtime_agent_path]` placeholders across `create` and `spec_kit` YAML assets.
- **Command docs path resolution**: Added explicit runtime mapping guidance in command markdown for Default/Copilot (`.opencode/agent`), ChatGPT (`.opencode/agent/chatgpt`), and Claude (`.opencode/agent/claude`).
- **Memory continuation alignment**: Expanded `/memory:continue` path detection to include all runtime agent roots.

### Category: Architecture

- **Canonical agent-root model reinforced**: Runtime resolution now consistently targets canonical `.opencode/agent*` roots, while `.claude/agents` remains a compatibility alias.
- **Agent set synchronization**: Updated base and ChatGPT agent docs, and aligned Claude agent pathing/layout with current runtime conventions.

### Category: Documentation

- **Component changelogs updated**: Added command component release notes in `.opencode/changelog/04--commands/v2.0.5.0.md` and updated agent-orchestration release wording in `.opencode/changelog/03--agent-orchestration/v2.0.7.2.md`.
- **Spec artifacts synchronized**: Updated implementation and verification evidence in `.opencode/specs/004-agents/021-codex-orchestrate/` (`implementation-summary.md`, `checklist.md`).

### Category: Testing

- **YAML parse validation**: `YAML_OK 23` for modified command YAML files.
- **Hardcoded-path regression check**: Confirmed no remaining `agent_file: ".opencode/agent/..."` entries in `.opencode/command` YAML assets.

## Files Changed

- `AGENTS.md`
- `.opencode/agent/{context,debug,handover,orchestrate,research,review,speckit,write}.md`
- `.opencode/agent/chatgpt/{context,debug,handover,orchestrate,research,review,speckit,write}.md`
- `.opencode/agent/claude/{context,debug,handover,orchestrate,research,review,speckit,write}.md` 路 `.claude/agents` (symlink alignment)
- `.opencode/command/create/*.md` 路 `.opencode/command/create/assets/*.yaml`
- `.opencode/command/spec_kit/*.md` 路 `.opencode/command/spec_kit/assets/*.yaml`
- `.opencode/command/memory/continue.md`
- `.opencode/changelog/03--agent-orchestration/v2.0.7.2.md` 路 `.opencode/changelog/04--commands/v2.0.5.0.md`
- `.opencode/specs/004-agents/021-codex-orchestrate/*`

## Upgrade

No migration required. Pull latest to apply runtime-aware command path routing and synchronized agent/runtime documentation updates.
