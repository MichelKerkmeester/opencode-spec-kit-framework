# v2.0.1.2

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.0.1.2**] - 2026-02-14

**Create Command Dispatch Security Fix + Defensive Hardening** — Continuation of v2.0.1.1 (Spec 118 → Spec 008). Applied the same dispatch vulnerability fix pattern to all 6 create commands, removed critical `Task` allowed-tool from `create/skill.md`, and marked all YAML workflow assets as `REFERENCE ONLY`.

> Spec folder: `anobel.com/.opencode/specs/003-system-spec-kit/008-create-command-hardening/` (Level 3)

---

## Highlights

### Security — Create Command Dispatch Fix & Hardening

Applied the same dispatch vulnerability fix pattern from v2.0.1.1 (spec_kit commands) to the 6 create commands. The root cause: OpenCode's Go runtime injects phantom agent dispatch instructions when it detects `@agent` references combined with `Task` in a command's `allowed-tools` frontmatter.

- **Critical fix**: `create/skill.md` had the same two-factor vulnerability — `Task` in allowed-tools + `@write` agent references. Removed `Task` (not needed for slash command chaining) and added imperative guardrail block
- **Defensive hardening**: All 6 create commands now have execution protocol guardrails preventing phantom dispatch, even if `Task` is re-added in the future
- **YAML workflow assets marked**: All 6 YAML workflow assets marked as `REFERENCE ONLY`

### Discovery

- **Orphaned file**: `create_agent.yaml` exists but is never loaded by `agent.md` (inline workflow used instead). Flagged for future cleanup

## Files Changed

**6 command files hardened:**
- `.opencode/command/create/skill.md` — `Task` removed from allowed-tools + guardrail added
- `.opencode/command/create/agent.md` — guardrail added (no-YAML variant)
- `.opencode/command/create/skill_reference.md` — guardrail added
- `.opencode/command/create/skill_asset.md` — guardrail added
- `.opencode/command/create/install_guide.md` — guardrail added
- `.opencode/command/create/folder_readme.md` — guardrail added

**6 YAML assets marked:**
- `.opencode/command/create/assets/create_skill.yaml` — `REFERENCE ONLY` comment
- `.opencode/command/create/assets/create_agent.yaml` — `REFERENCE ONLY` comment
- `.opencode/command/create/assets/create_skill_reference.yaml` — `REFERENCE ONLY` comment
- `.opencode/command/create/assets/create_skill_asset.yaml` — `REFERENCE ONLY` comment
- `.opencode/command/create/assets/create_install_guide.yaml` — `REFERENCE ONLY` comment
- `.opencode/command/create/assets/create_folder_readme.yaml` — `REFERENCE ONLY` comment

## Upgrade

Drop-in replacement. Copy `.opencode/command/create/` to your project.

---
