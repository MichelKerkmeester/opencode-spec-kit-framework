# v2.0.5.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.0.5.0**] - 2026-02-19

**Runtime-aware agent path normalization for command workflows** -- Removed hardcoded agent-definition paths from command markdown/YAML and standardized command-side runtime routing through canonical profile roots.

> Spec folder: `.opencode/specs/004-agents/021-codex-orchestrate/` (Level 3)

---

## Highlights

### Category: Runtime Path Resolution

- **Canonical runtime mapping documented in command docs**: Default/Copilot -> `.opencode/agent`, ChatGPT -> `.opencode/agent/chatgpt`, Claude -> `.opencode/agent/claude`.
- **Command YAML agent dispatch pathing normalized**: Replaced hardcoded `agent_file: ".opencode/agent/<agent>.md"` with `agent_file: "[runtime_agent_path]/<agent>.md"` in create/spec_kit assets.
- **Cross-runtime command compatibility improved**: Command instructions now align with current provider routing while remaining compatible with symlinked command trees.

### Category: Command Coverage

- **`/create` docs updated**: Added explicit runtime path resolution sections and runtime-aware path defaults.
- **`/spec_kit` docs updated**: Added runtime path resolution guidance for debug/handover command flows.
- **`/memory:continue` updated**: Expanded agent-path mismatch detection to include all runtime roots.
- **Create command troubleshooting updated**: Added runtime-path verification guidance in `README.txt`.

### Category: Validation

- **YAML parse validation passed**: 23 modified command YAML files parsed successfully (`YAML_OK 23`).
- **Hardcoded path scan passed**: No remaining `agent_file: ".opencode/agent/..."` matches in `.opencode/command` YAML assets.
- **Change scope verified**: `.opencode/command` diff reported `33 files changed, 147 insertions, 71 deletions`.

## Files Changed

| File | Change |
|------|--------|
| `.opencode/command/create/*.md` | Added runtime-path resolution sections and runtime-aware command guidance |
| `.opencode/command/create/assets/*.yaml` | Replaced hardcoded `agent_file` values with `[runtime_agent_path]` placeholders; normalized create-agent defaults |
| `.opencode/command/spec_kit/*.md` | Added runtime-path resolution sections for spec-kit command flows |
| `.opencode/command/spec_kit/assets/*.yaml` | Replaced hardcoded `agent_file` paths with `[runtime_agent_path]` placeholders |
| `.opencode/command/memory/continue.md` | Expanded runtime-path detection matrix for agent-related memory continuation |
| `.opencode/command/create/README.txt` | Added troubleshooting note for runtime-path verification |

## Upgrade

No migration required. Pull latest to apply runtime-aware command path routing and remove hardcoded command agent path assumptions.
