# v2.0.8.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.0.8.0**] - 2026-02-20

**Context overload prevention logic integrated into orchestrator** -- The orchestrator now has explicit self-protection rules, compaction recovery protocol, output discipline enforcement, and a structured context pressure response sequence to prevent irrecoverable context window failures.

> Source: `Barter/Prompt Improver/export/007 - enhanced-cc-context-overload-prevention.md`

---

## Highlights

### Category: Context Window Self-Protection (NEW)

- **Orchestrator self-protection rules added (§8)** -- Four explicit rules prevent the orchestrator from overloading its own context: targeted reads only (offset/limit on files >200 lines), no accumulation (delegate bulk reads to @context), write-don't-hold (scratch files for intermediate results), and batch tool calls.

### Category: Compaction Recovery (NEW)

- **Compaction recovery protocol added (§6)** -- Explicit 5-step protocol when context compaction occurs: stop, re-read CLAUDE.md/MEMORY.md, summarize state, wait for user confirmation. After 2+ compactions, recommends `/clear` with @handover continuation document.

### Category: Output Discipline (NEW)

- **Output discipline rules added (§7)** -- Enforces concise responses: summarize tool results (never echo raw output), cap >50 line returns to 3-5 bullet points, produce one unified response for multi-agent synthesis.

### Category: Context Pressure Response (ENHANCED)

- **Context pressure response protocol added (§7)** -- The existing context health monitoring table now has an explicit 4-step response sequence: pause dispatching, announce pressure to user with `/compact` recommendation, wait for confirmation, fallback to synthesize + suggest `/spec_kit:handover`.

### Category: Anti-Patterns (ENHANCED)

- **Three context-related anti-patterns added (§9)** -- Never read 3+ large files back-to-back in main context, never echo full tool output (>50 lines), never continue after compaction without user confirmation.

## Files Changed

| File | Action |
|------|--------|
| `.claude/agents/orchestrate.md` | Modified |
| `.opencode/agent/orchestrate.md` | Modified |
| `.opencode/agent/chatgpt/orchestrate.md` | Modified |

**Total: 3 files modified**

## Upgrade

No migration required. Existing orchestrate.md behavior is preserved; new sections add protection guardrails. Pull latest to activate.
