# v2.3.0.5

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.3.0.5**] - 2026-02-22

**Auto-detected spec session selection hardened for resume/handover workflows** - Session detection now deterministically avoids archived targets, canonicalizes alias paths, and applies safe low-confidence behavior for ambiguous selections.

> Spec folder: `.opencode/specs/003-system-spec-kit/139-hybrid-rag-fusion/005-auto-detected-session-bug/` (Level 2)

---

## Highlights

### Category: Bug Fixes

- **Archive avoidance enforced**: detection flow prioritizes active non-archived spec folders over stale archive/fixture candidates.
- **Alias normalization stabilized**: `specs/` and `.opencode/specs/` equivalents resolve consistently.
- **Ambiguity guard added**: low-confidence detection paths now require confirmation or safe fallback behavior.

### Category: Validation

- **Functional regression suite passed**: `test-folder-detector-functional.js` reports `32 passed, 0 failed, 0 skipped`.
- **Review gate passed**: completion evidence records review score `88/100` with no P0/P1 findings.
- **Spec validation passed**: folder-level validator succeeded for this scope.

### Category: Documentation Alignment

- **Command guidance aligned**: `/spec_kit:resume` and `/spec_kit:handover` guidance was verified against detector behavior.
- **No forced no-op code churn**: detector implementation was confirmed active without unnecessary rewrite.

## Files Changed

| File | Change |
|------|--------|
| `.opencode/skill/system-spec-kit/scripts/tests/test-folder-detector-functional.js` | Regression coverage for archive preference, alias normalization, and mtime distortion cases |
| `.opencode/skill/system-spec-kit/scripts/spec-folder/folder-detector.ts` | Verified active implementation for deterministic selection behavior |
| `.opencode/skill/system-spec-kit/scripts/dist/spec-folder/folder-detector.js` | Verified runtime artifact alignment |
| `.opencode/command/spec_kit/resume.md` | Verified command guidance alignment with deterministic session selection |
| `.opencode/command/spec_kit/handover.md` | Verified command guidance alignment with selection/fallback behavior |

## Upgrade

No migration required. Existing command flows continue working with higher selection reliability; explicit path input still overrides auto-detection when provided.
