# v1.2.6.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**1.2.6.0**] - 2026-02-05

**Ecosystem-wide deep analysis & remediation** (Specs 087 + 088) with 3 critical bugs fixed, schema unification via Migration v12, gate numbering standardization, and AGENTS.md naming migration across 59 files.

---

## Highlights

### Fixed

#### Critical Bugs

- **`CREATE_LINKED` SQL constraint** — Added to `memory_conflicts` CHECK constraint in migration v4 schema and `create_schema()` (`vector-index.js`)
- **Ghost tools in speckit.md** — Rewrote tool layers from wrong 5-layer to correct 7-layer, 22-tool architecture; removed `memory_drift_context` and `memory_drift_learn` references
- **Stale SKILL.md cross-references** — Fixed 5 section references + standardized template file counts

#### Schema Unification (Migration v12)

- **Three conflicting DDL schemas unified** — `memory_conflicts` had incompatible column names across `vector-index.js`, `create_schema()`, and `prediction-error-gate.js`; unified to 14-column schema
- **Migration v12** — DROP+CREATE with unified schema; `SCHEMA_VERSION` 11 → 12
- **Column renames** — `similarity_score` → `similarity`, `notes` → `reason` in both INSERT paths
- **Error swallowing removed** — Silent try/catch replaced with `console.error()` logging
- **`ensure_conflicts_table()` deprecated** — Converted to no-op in `prediction-error-gate.js`

#### Gate Numbering

- **gate-enforcement.md** — Full renumbering to match AGENTS.md (Gate 1=Understanding, 2=Skill Routing, 3=Spec Folder)
- **7 active files** — Removed stale Gate 4/5/6 references
- **Legacy install guide** — Rewritten from 7-gate to 3-gate + 3 behavioral rules

#### Signal Handlers

- **context-server.js** — Added `toolCache.shutdown()` to SIGINT/SIGTERM/uncaughtException
- **access-tracker.js** — Removed duplicate SIGINT/SIGTERM handlers

#### Documentation

- **schema-migration.test.js** — Column names updated for v12 schema
- **decision-format.md, epistemic-vectors.md** — Gate number corrections
- **search/README.md, core/README.md** — Schema version references updated

### Changed

- **AGENTS.md naming** — 59 files updated (~218 replacements) to use `AGENTS.md` instead of `CLAUDE.md`
- **speckit.md** — Added 4 missing commands + 3 scripts to Capability Scan
- **SKILL.md** — Added 3 scripts to Key Scripts table
- **skill_advisor.py** — Memory/context intent boost (passes 0.8 threshold); debug disambiguation
- **Template counts** — Standardized across speckit.md, SKILL.md, README.md
