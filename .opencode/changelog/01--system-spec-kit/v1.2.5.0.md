# v1.2.5.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**1.2.5.0**] - 2026-02-03

**Infrastructure work domain detection** (Spec 085) fixing root cause of memory files being saved to incorrect spec folders when working on shared infrastructure (`.opencode/`).

---

## Highlights

### Fixed

#### alignment-validator.js

- **`detect_work_domain()` function** — New function that analyzes file paths from observations to detect infrastructure vs project work: calculates ratio of `.opencode/` files, identifies subpath (`skill/system-spec-kit`, `command/memory`, `agent/`, etc.), returns domain info with confidence score and matching patterns
- **`calculate_alignment_score_with_domain()` function** — Wraps base scoring with infrastructure awareness: applies +40 bonus to folders matching infrastructure patterns, patterns mapped per subpath
- **`validate_content_alignment()` and `validate_folder_alignment()`** — Now use domain-aware scoring: show infrastructure mismatch warning when detected, list better-matching alternatives with boosted scores

#### continue.md

- **Step 3: Validate Content vs Folder Alignment** — Added validation of `key_files` against `spec_folder` before recovery
- **Step numbering** — Removed half-steps (2.5 → 3, renumbered subsequent steps)
- **KEY FILES in recovery summary** — Added so users can verify spec folder makes sense for the work
