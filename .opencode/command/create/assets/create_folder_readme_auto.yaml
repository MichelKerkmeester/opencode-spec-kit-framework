# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# OPENCODE CREATE: README CREATION WORKFLOW (AUTO MODE)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Mode: autonomous (no user approval gates)
# Note: This workflow executes all steps sequentially with
#       continuous self-validation. Pauses only if confidence < 40%.
#
# Note: README files should include clear section anchors and concise metadata.
# Use YAML frontmatter (title, description, trigger_phrases) for consistency.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
role: Expert README Creator using sk-documentation skill
purpose: Create comprehensive README files with proper structure and AI-optimization
action: Generate scannable, well-organized README with table of contents

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PREREQUISITE: @write AGENT VERIFICATION
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# This workflow REQUIRES the @write agent for:
#   â€¢ Template-first workflow (loads templates before creating)
#   â€¢ DQI scoring (target: 70+ Acceptable)
#   â€¢ sk-documentation skill integration
#
# PHASE 0 in the command markdown verifies @write agent BEFORE
# this YAML workflow loads. If you're executing this workflow,
# @write verification has already passed.
#
# To invoke correctly: @write /create:folder_readme [path]
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

operating_mode:
  workflow: sequential_6_step
  workflow_compliance: MANDATORY
  workflow_execution: autonomous
  approvals: none
  tracking: progressive_task_checklists
  validation: continuous_self_validation

development_philosophy:
  principle: "Question-answering format maximizes AI usefulness"
  approach: "Discover â†’ Structure â†’ Generate â†’ Validate"
  mandate: "Progressive disclosure - Quick Start first, details follow"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CONFIDENCE & CLARIFICATION FRAMEWORK
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
confidence_framework:
  thresholds:
    high: { range: "80-100%", action: "Proceed with citable source" }
    medium: { range: "40-79%", action: "Proceed with caution, document assumptions" }
    low: { range: "0-39%", action: "STOP - Ask clarification with A/B/C options" }
  
  scoring_weights:
    scope_clarity: 0.30
    content_completeness: 0.25
    structure_adherence: 0.25
    audience_fit: 0.20
  
  clarification_format: |
    "I need clarity (confidence: [NN%]). Which approach:
    - A) [option with brief rationale]
    - B) [option with brief rationale]
    - C) [option with brief rationale]"
  
  escalation:
    timebox_minutes: 10
    failed_attempts_threshold: 2
    action: "Present options to user with current findings"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# REQUEST ANALYSIS FRAMEWORK
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
request_analysis_framework:
  solution_flow:
    - "Parse carefully: What is ACTUALLY requested?"
    - "Gather Context: Scan directory structure"
    - "Identify Approach: SIMPLEST solution that works"
    - "Validate Choice: Follow patterns, maintainable"
    - "Clarify If Needed: If <80% confidence, ask"
    - "Scope Check: Solving ONLY what was asked?"
    - "Execute: Implement with minimal complexity"
  
  pre_change_validation:
    items:
      - "Target path confirmed?"
      - "README type determined? (project/component/feature/skill)"
      - "Key features identified?"
      - "Structure template selected?"
      - "Confidence >=80%? (if not: ask)"
    stop_conditions: ["Any item unchecked", "Path not found"]
    stop_action: "STOP and address before proceeding"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# USER INPUTS (From gate outputs)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
user_inputs:
  target_path: |
    [TARGET_PATH]
    Where to create README.
    FROM UNIFIED SETUP PHASE (Q0 or command argument).

  readme_type: |
    [README_TYPE]
    Type: project | component | feature | skill
    FROM UNIFIED SETUP PHASE (Q1).

  path_verified: |
    [PATH_VERIFIED]
    Whether target path exists.
    FROM UNIFIED SETUP PHASE (automatic verification).

  existing_readme: |
    [EXISTING_README]
    Whether README.md already exists at path.
    FROM UNIFIED SETUP PHASE (automatic detection).

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# README TYPES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
readme_types:
  project:
    scope: "Entire project"
    sections:
    # Canonical sections from readme_template.md Â§13 (omits FAQ for project scope)
    - "OVERVIEW"
    - "QUICK START"
    - "FEATURES"
    - "STRUCTURE"
    - "CONFIGURATION"
    - "USAGE EXAMPLES"
    - "TROUBLESHOOTING"
    - "RELATED DOCUMENTS"
    key_questions:
    - "What is this?"
    - "How do I install it?"
    - "How do I use it?"
    - "How do I contribute?"

  component:
    scope: "Module or package"
    sections:
    # Full canonical 9-section set from readme_template.md Â§13
    - "OVERVIEW"
    - "QUICK START"
    - "FEATURES"
    - "STRUCTURE"
    - "CONFIGURATION"
    - "USAGE EXAMPLES"
    - "TROUBLESHOOTING"
    - "FAQ"
    - "RELATED DOCUMENTS"
    key_questions:
    - "What does this component do?"
    - "How do I use the API?"
    - "How do I integrate it?"

  feature:
    scope: "Specific feature"
    sections:
    # Canonical subset from readme_template.md Â§13 (omits STRUCTURE, FAQ, RELATED DOCUMENTS)
    - "OVERVIEW"
    - "QUICK START"
    - "FEATURES"
    - "CONFIGURATION"
    - "USAGE EXAMPLES"
    - "TROUBLESHOOTING"
    key_questions:
    - "What does this feature do?"
    - "How do I enable it?"
    - "How do I configure it?"

  skill:
    scope: "OpenCode skill"
    sections:
    # Full canonical 9-section set from readme_template.md Â§13
    - "OVERVIEW"
    - "QUICK START"
    - "FEATURES"
    - "STRUCTURE"
    - "CONFIGURATION"
    - "USAGE EXAMPLES"
    - "TROUBLESHOOTING"
    - "FAQ"
    - "RELATED DOCUMENTS"
    key_questions:
    - "When does this skill activate?"
    - "What commands are available?"
    - "What MCP tools does it use?"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# AI OPTIMIZATION PRINCIPLES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ai_optimization:
  question_answering:
    description: "Structure to answer common questions"
    examples:
    - question: "How do I install?"
      maps_to: "Installation section"
    - question: "How do I configure?"
      maps_to: "Configuration section"

  scannable_structure:
    description: "Easy to scan and find information"
    techniques:
    - "Clear headings"
    - "Code examples for every feature"
    - "Tables for options"
    - "ASCII diagrams for architecture"

  progressive_disclosure:
    description: "Quick Start first, details follow"
    order:
    - "Quick Start (get running fast)"
    - "Details (deep configuration)"
    - "Reference (complete API)"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# REFERENCE TEMPLATES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
reference_templates:
  readme_template: .opencode/skill/sk-documentation/assets/documentation/readme_template.md
  speckit_readme: .opencode/skill/system-spec-kit/README.md
  memory_readme: .opencode/skill/system-spec-kit/README.md
  core_standards: .opencode/skill/sk-documentation/references/core_standards.md

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# TEMPLATE EVOLUTION REFERENCES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Points to readme_template.md sections for patterns not embedded here.
# The canonical template is the single source of truth for all README structure.
template_references:
  canonical_structure: "readme_template.md Â§13 (Complete Template)"
  anchor_rules: "readme_template.md Â§12 (Anchor Templates)"
  writing_patterns: "readme_template.md Â§6 (Writing Patterns)"
  style_guide: "readme_template.md Â§7 (Style Reference)"
  toc_format: "readme_template.md Â§5.1 (Table of Contents)"
  badge_shields: "readme_template.md Â§8 (Badge Shields)"
  before_after_patterns: "readme_template.md Â§6.4 (Before/After)"
  architecture_diagrams: "readme_template.md Â§6.5 (Architecture Diagrams)"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CHECKPOINT OPTIONS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
checkpoint_options:
  standard:
  - label: "Approve"
    description: "Approve and continue to next step"
  - label: "Review"
    description: "Show more details"
  - label: "Modify"
    description: "Make changes before proceeding"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# WORKFLOW ENFORCEMENT (CRITICAL)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
workflow_enforcement:
  mode: strict
  step_order: sequential_mandatory
  skip_allowed: false

  phase_gate:
    location: "Between Step 2 and Step 3"
    purpose: "Verify content discovery complete before structure selection"
    requirements:
    - "Key features identified (3-5)"
    - "Target audience determined"
    - "Prerequisites/dependencies gathered"
    action_if_failed: "STOP and return to incomplete step"

  critical_steps:
    step_2_discovery:
      enforcement: "MUST gather project information before writing"
      verification: "Self-validate features are identified and concrete"
    step_4_generation:
      enforcement: "MUST use template structure with TOC, section formatting, tables"
      verification: "All sections written, no placeholder content"
    step_5_validation:
      enforcement: "MUST verify structure and completeness"
      verification: "DQI score >= 70 before claiming complete"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CIRCUIT BREAKER
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
circuit_breaker:
  consecutive_failure_threshold: 3
  states:
    closed: "Normal operation"
    open: "3+ failures â€” pause and report to user"
    half_open: "Test with single retry before resuming"
  on_open:
    action: "Report failures to user with summary"
    suggest: "Review inputs and try again, or escalate"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# WORKFLOW (6 STEPS WITH CHECKPOINTS)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
workflow:
  step_1_request_analysis:
    purpose: Determine scope and location (from UNIFIED SETUP PHASE)
    activities:
    - Confirm target_path from UNIFIED SETUP PHASE
    - Confirm readme_type from UNIFIED SETUP PHASE
    - Confirm path_verified from UNIFIED SETUP PHASE
    - Confirm existing_readme handling from UNIFIED SETUP PHASE
    - Validate readme_type is one of: project, component, feature, skill
    type_reference:
      project: "Entire project - overview, installation, configuration, usage"
      component: "Module/package - purpose, API, usage examples, integration"
      feature: "Specific feature - what it does, how it works, configuration"
      skill: "OpenCode skill - triggers, commands, MCP tools, architecture"
    outputs:
    - target_confirmed
    - type_confirmed
    - scope_defined

  step_2_content_discovery:
    purpose: Gather project information based on type
    activities:
    - Scan for project metadata
    - Identify main features and capabilities
    - Find existing documentation to reference
    - Check for configuration options
    scan_targets:
      project:
      - "package.json / pyproject.toml for metadata"
      - "Main entry points and configuration files"
      - "Key features and capabilities"
      - "Existing documentation"
      component:
      - "Component purpose and scope"
      - "Exported APIs and interfaces"
      - "Usage examples in codebase"
      - "Dependencies and integration points"
      feature_or_skill:
      - "Feature scope and capabilities"
      - "Commands, triggers, or APIs"
      - "Configuration options"
      - "Architecture if applicable"
    questions:
    - "What are the key aspects to document?"
    - "Main purpose/value proposition?"
    - "Key features (3-5)?"
    - "Target audience?"
    - "Prerequisites/dependencies?"
    prompt_template: |
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ "What are the key aspects to document?"                    â”‚
      â”‚                                                            â”‚
      â”‚ - Main purpose/value proposition?                          â”‚
      â”‚ - Key features (3-5)?                                      â”‚
      â”‚ - Target audience?                                         â”‚
      â”‚ - Prerequisites/dependencies?                              â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    outputs:
    - features_identified
    - metadata_gathered
    - structure_understood

  step_3_structure_selection:
    purpose: Choose appropriate template based on type
    activities:
    - Select section structure based on readme_type
    - Adapt sections to specific project needs
    - Plan content for each section
    - Identify which optional sections to include
    core_pattern:
      all_types:
      - "Title + Tagline (one-liner description)"
      - "TABLE OF CONTENTS (numbered, linked)"
      - "Numbered sections"
      - "Tables for structured data"
      - "Code blocks with language tags"
      - "Horizontal rules between major sections"
    emoji_guidance:
      note: "Optional emoji prefix suggestions (not required in output)"
      examples:
        overview: "ğŸ“–"
        quick_start: "ğŸš€"
        structure: "ğŸ“"
        features: "âš¡"
        configuration: "âš™ï¸"
        usage_examples: "ğŸ’¡"
        troubleshooting: "ğŸ› ï¸"
        faq: "â“"
        related_documents: "ğŸ“š"
    outputs:
    - template_selected
    - sections_planned
    - content_outline

  step_4_content_generation:
    purpose: Write comprehensive README following selected structure
    activities:
    - Write Title + Tagline (concise, clear value proposition)
    - Generate TABLE OF CONTENTS (numbered, linked to sections)
    - Write each section
    - Create tables for structured data (features, commands, config)
    - Add code blocks with language tags
    - Create ASCII diagrams for architecture/flow visualization
    - Add horizontal rules between major sections
    - Write to target_path
    quality_requirements:
      title: "Clear, concise value proposition"
      toc: "Numbered, linked to actual sections"
      sections: "Section headers - numbered format recommended"
      tables: "For structured data (features, commands, config)"
      code_blocks: "Always specify language"
      diagrams: "ASCII for architecture/flow"
      separators: "Horizontal rules between major sections"
    outputs:
    - readme_file: created
    - sections_count: number
    - tables_count: number
    - code_blocks_count: number

  step_5_validation:
    purpose: Verify README quality and completeness
    activities:
    - Structure check (title, TOC, sections, separators)
    - Content check (code blocks, tables, no placeholders, valid links)
    - Completeness check (Quick Start, Troubleshooting, FAQ for component/skill)
    - DQI check if script available
    validation_checklist:
      structure:
      - "Title + one-liner tagline present"
      - "TABLE OF CONTENTS present and linked"
      - "All sections numbered"
      - "Horizontal rules between sections"
      content:
      - "All code blocks have language tags"
      - "Tables are properly formatted"
      - "No placeholder text remaining"
      - "Links are valid"
      completeness:
      - "Quick Start section present"
      - "Troubleshooting section present"
      - "FAQ section present (for component/skill)"
    quality_gates:
      dqi_minimum: 70
      dqi_band: "Acceptable"
      enforcement: "Flexible"
    outputs:
    - validation_passed: boolean
    - checklist_results: object
    - dqi_score: number (optional)

  step_5b_quality_review:
    purpose: Quality-score the created README artifact
    agent_availability:
      agent_file: "[runtime_agent_path]/review.md"
      standards_contract:
        baseline: "sk-code"
        overlay: "Auto-detect one overlay: sk-code--*"
        precedence: "Overlay style/process/build/test conventions override generic baseline guidance; baseline security/correctness minimums remain mandatory."
      rule_reference: "AGENTS.md Â§3 â€” quality scoring + sk-code baseline + sk-code--* overlay contract"
      condition: "ONLY when this step is actively executing"
      blocking: false
      not_for: "reviewing this workflow prompt or any pre-step activity"
    activities:
    - "Dispatch @review using sk-code baseline plus one sk-code--* overlay to quality-score the created README file"
    - "Review checks: structure completeness, content quality, DQI standards"
    - "Score against 100-point rubric (Accuracy 40%, Completeness 35%, Consistency 25%)"
    on_low_score:
      threshold: 70
      action: "Log warnings and suggest improvements; do not block workflow"
    outputs:
    - quality_score: number
    - review_findings: list
    - improvement_suggestions: list (if score < 70)

  step_6_save_context:
    purpose: Preserve workflow decisions and context
    activities:
    - Invoke system-spec-kit skill
    - Document README creation decisions
    - Record structure choices and rationale
    - Save validation results
    - Create memory file with timestamp
    - Index memory file for immediate search availability
    tool_invocation:
      command: 'Read(".opencode/skill/system-spec-kit/SKILL.md")'
      note: "Activate context saving via memory skill"
    memory_content:
      include:
      - README type and target path
      - Structure decisions made
      - Content sources and references
      - Validation results
      - Any challenges or decisions made
    outputs:
    - memory_file: "[SPEC_FOLDER]/memory/[DD-MM-YY_HH-MM]__readme_creation_session.md"
    validation: context_saved

    # â”€â”€ SEMANTIC MEMORY INTEGRATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    post_save_indexing:
      purpose: "Index memory file immediately for search availability"
      mcp_tool: memory_save
      invocation: |
        spec_kit_memory_memory_save({
          filePath: "[SPEC_FOLDER]/memory/[DD-MM-YY_HH-MM]__readme_creation_session.md"
        })
      critical_note: "Call semantic memory MCP DIRECTLY - NEVER through Code Mode"
      when: "Immediately after memory file is written to disk"

    anchor_requirements:
      enforcement: MANDATORY
      minimum_anchors: 2
      pattern: "[context-type]-[keywords]-[spec-number]"
      format: "<!-- ANCHOR:ID --> content <!-- /ANCHOR:ID -->"
      case: "UPPERCASE recommended for visibility"
      required_sections:
        - context_type: "general"
          section: "Session summary with README creation outcomes"
          example_id: "GENERAL-SESSION-SUMMARY-{spec#}"
          example: |
            <!-- ANCHOR:GENERAL-SESSION-SUMMARY-{spec#} -->
            ## Session Summary
            Created [type] README at [path]...
            <!-- /ANCHOR:GENERAL-SESSION-SUMMARY-{spec#} -->
        - context_type: "decision"
          section: "Key decisions made during README creation"
          example_id: "DECISION-README-STRUCTURE-{spec#}"
          example: |
            <!-- ANCHOR:DECISION-README-STRUCTURE-{spec#} -->
            ## Key Decisions
            - Chose structure X because...
            <!-- /ANCHOR:DECISION-README-STRUCTURE-{spec#} -->
      optional_sections:
        - context_type: "implementation"
          section: "Structure and sections chosen"
          example_id: "IMPLEMENTATION-STRUCTURE-{spec#}"
        - context_type: "research"
          section: "Content sources and references"
          example_id: "RESEARCH-SOURCES-{spec#}"
      benefit: "93% token savings on anchor-based retrieval"
      reference: "See /memory:save Step 3 for full anchor documentation"

    importance_tier:
      assign: normal
      rationale: "README creation is standard documentation task"
      promotion_note: "Use memory_update() to promote to 'important' if README becomes a key reference"
      tier_reference: |
        constitutional: Core project rules (auto-surface always)
        critical: Foundational decisions (high priority in search)
        important: Significant work like implementations
        normal: Standard context like documentation tasks (this workflow)
        temporary: Short-term notes
        deprecated: Outdated but retained

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# README TEMPLATE REFERENCES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
templates:
  # â”€â”€ CANONICAL TEMPLATE REFERENCES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # Full README scaffolds are NOT embedded here to avoid dual sources of truth.
  # All types use the canonical 9-section template as their base.
  project_readme: |
    # Reference: See readme_template.md Â§13 (Complete Template) for the canonical 9-section scaffold.
    # Adapt sections per readme_types.project.sections above.
    # Template path: .opencode/skill/sk-documentation/assets/documentation/readme_template.md
  component_readme: |
    # Reference: See readme_template.md Â§13 (Complete Template) for the canonical 9-section scaffold.
    # Adapt sections per readme_types.component.sections above.
    # Template path: .opencode/skill/sk-documentation/assets/documentation/readme_template.md
  feature_readme: |
    # Reference: See readme_template.md Â§13 (Complete Template) for the canonical 9-section scaffold.
    # Adapt sections per readme_types.feature.sections above (subset of 9 sections).
    # Template path: .opencode/skill/sk-documentation/assets/documentation/readme_template.md
  skill_readme: |
    # Reference: See readme_template.md Â§13 (Complete Template) for the canonical 9-section scaffold.
    # Adapt sections per readme_types.skill.sections above.
    # Template path: .opencode/skill/sk-documentation/assets/documentation/readme_template.md

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# COMPLETION REPORT TEMPLATE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
completion_report:
  template: |
    âœ… README Created
    
    Location: [path]
    Type: [project|component|feature|skill]
    
    Structure:
    - Title + Tagline: âœ…
    - TABLE OF CONTENTS: âœ…
    - Sections: [N] numbered
    - Tables: [N]
    - Code blocks: [N]
    - ASCII diagrams: [N]
    
    Quality:
    - All sections linked: âœ…
    - No placeholders: âœ…
    - Horizontal rules: âœ…
    
    Next Steps:
    - Review for accuracy
    - Add screenshots if applicable
    - Test all code examples
    
    STATUS=OK PATH=[readme-path]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# AUTONOMOUS EXECUTION
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
autonomous_execution:
  principle: "Execute workflow steps sequentially without user approval gates"
  decision_making: "Use confidence framework to self-assess at each step"
  uncertainty_handling: "If confidence < 40%, pause and report to user"
  progress_tracking: "Log step completion with validation status"
  completion_criteria: "All steps validated, DQI >= 70, README created"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# QUALITY STANDARDS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
quality_standards:
  dqi_minimum: 70
  dqi_enforcement: FLEXIBLE
  validation_pipeline:
    stage_1: "Structural check (title, TOC, sections, separators)"
    stage_2: "Content check (code blocks, tables, no placeholders)"
  template_adherence: required
  core_standards_reference: ".opencode/skill/sk-documentation/references/core_standards.md"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ERROR RECOVERY
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
error_recovery:
  template_not_found:
    action: "Check template paths, verify sk-documentation skill exists"
    fallback: "Use inline minimal template structure"
  validation_failure:
    action: "Show specific validation errors, guide fixes"
    retry: true
  file_write_failure:
    action: "Check permissions, verify path exists, create parent directories"
    retry: true
  path_not_exist:
    action: "Create directory or choose different path"
    options: ["Create directory", "Choose different path", "Cancel"]
  readme_exists:
    action: "Offer update, backup, or new location"
    options: ["Overwrite", "Backup and overwrite", "Merge", "Cancel"]
  no_project_info:
    action: "Prompt for manual input"
    questions: ["Project name?", "Key features?", "Target audience?"]
  validation_fails:
    action: "Show which sections need content, guide fixes"
    loop: true
  user_rejects_approach:
    action: "Return to planning, gather alternative requirements"
    restart_from: "step_2_content_discovery"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# TERMINATION
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
termination:
  after_step: step_6_save_context
  message: "README creation workflow complete."
  next_steps:
    - condition: "README needs screenshots"
      action: "Add visual assets to enhance documentation"
    - condition: "Need install guide"
      action: "Run /create:install_guide"
    - condition: "Want to save context"
      action: "Run /memory:save"
    - condition: "Create another README"
      action: "Run /create:folder_readme [path]"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# RULES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      rules:
  ALWAYS:
  - "Self-validate at each step before proceeding"
  - "Load readme_template.md before creating content"
  - "Include Quick Start section with clear examples"
  - "Create table of contents with proper anchor links"
  - "Use section formatting"
  - "Validate structure before claiming complete"
  NEVER:
  - "Prompt user for approval at checkpoints"
  - "Skip validation steps"
  - "Create documents without loading templates first"
  - "Leave placeholder text in final output"
  - "Omit troubleshooting section"
  - "Create README without user-confirmed path"
