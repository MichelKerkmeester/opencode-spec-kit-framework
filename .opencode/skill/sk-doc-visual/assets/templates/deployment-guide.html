<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="ve-artifact-type" content="deployment-guide">
    <meta name="ve-source-doc" content="">
    <meta name="ve-speckit-level" content="n/a">
    <meta name="ve-view-mode" content="artifact-dashboard">
    <title>Deployment Guide | SpecKit</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <style>
        :root {
            --bg: #131314;
            --surface: #1c1c1e;
            --text: #fafafa;
            --accent: #f59e0b;
            --muted: #71717a;
            --border: rgba(255, 255, 255, 0.08);
        }

        @media (prefers-color-scheme: light) {
            :root {
                --bg: #f5f6fa;
                --surface: #ffffff;
                --text: #18181b;
                --muted: #52525b;
                --accent: #d97706;
                --border: #d4d4d8;
            }
            .scanline { display: none; }
            .terminal-header { background: rgba(255,255,255,0.92) !important; }
            .inline-code { background: rgba(0,0,0,0.06) !important; }
            pre { background: var(--surface) !important; }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            .reveal { opacity: 1; transform: none; }
        }

        @media (prefers-contrast: more) {
            :root {
                --border: rgba(255, 255, 255, 0.3);
                --muted: #a1a1aa;
            }
        }

        @media (forced-colors: active) {
            .glass-card { border: 1px solid CanvasText; }
            .status { border: 1px solid CanvasText; }
            .viz-fill { forced-color-adjust: none; }
        }

        html {
            font-size: clamp(0.8125rem, 0.75rem + 0.25vw, 1.3125rem);
            scroll-behavior: smooth;
            background-color: var(--bg);
            color: var(--text);
        }

        body {
            font-family: 'Helvetica', sans-serif;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        .mono { font-family: 'JetBrains Mono', monospace; }

        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: var(--bg); }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent); }

        .page-container { width: 100%; max-width: 90rem; margin: 0 auto; }
        .main-grid { display: grid; grid-template-columns: 260px 1fr; gap: 4rem; }

        .toc-link {
            display: flex; align-items: center; gap: 0.75rem;
            font-size: 0.7rem; font-weight: 600; color: var(--muted);
            padding: 0.4rem 0; transition: all 0.2s ease; letter-spacing: 0.05em;
        }
        .toc-link:hover { color: var(--text); }
        .toc-link.active { color: var(--accent); }
        .toc-link.active::before {
            content: ''; width: 4px; height: 4px;
            background: var(--accent); border-radius: 50%;
        }

        .terminal-header {
            border-bottom: 1px solid var(--border);
            background: rgba(19, 19, 20, 0.95);
            backdrop-filter: blur(12px); z-index: 100;
        }

        .ledger-line {
            height: 1px;
            background: linear-gradient(90deg, var(--border) 0%, transparent 100%);
            margin: 2rem 0;
        }

        .reveal {
            opacity: 0; transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .glass-card {
            background: var(--surface); border: 1px solid var(--border);
            border-radius: 8px; transition: border-color 0.3s ease;
        }
        .glass-card:hover { border-color: var(--accent); }

        .scanline {
            position: fixed; top: 0; left: 0; width: 100%; height: 2px;
            background: rgba(245, 158, 11, 0.05); opacity: 0.5;
            z-index: 200; pointer-events: none;
            animation: scan 10s linear infinite;
        }
        @keyframes scan { 0% { top: -2%; } 100% { top: 100%; } }

        .inline-code {
            font-family: 'JetBrains Mono', monospace; color: var(--accent);
            font-size: 0.9em; background: rgba(0,0,0,0.3);
            padding: 0.1rem 0.3rem; border-radius: 4px; border: 1px solid var(--border);
        }

        .data-table { width: 100%; text-align: left; font-size: 11px; }
        .data-table thead tr { border-bottom: 1px solid var(--border); background: rgba(255,255,255,0.03); }
        .data-table th { padding: 0.75rem 1rem; color: var(--muted); font-weight: 600; letter-spacing: 0.1em; font-size: 10px; }
        .data-table td { padding: 0.75rem 1rem; }
        .data-table tbody tr { border-bottom: 1px solid var(--border); transition: background 0.15s; }
        .data-table tbody tr:hover { background: rgba(255,255,255,0.04); }

        .status {
            display: inline-flex; align-items: center; gap: 0.35rem;
            font-size: 10px; font-weight: 600; padding: 0.2rem 0.6rem;
            border-radius: 4px; letter-spacing: 0.05em;
        }
        .status--match { background: rgba(34,197,94,0.1); color: #22c55e; }
        .status--warn { background: rgba(245,158,11,0.1); color: #f59e0b; }
        .status--gap { background: rgba(239,68,68,0.1); color: #ef4444; }

        .flow-step {
            position: relative; padding-left: 3rem;
        }
        .flow-step::before {
            content: attr(data-step); position: absolute; left: 0; top: 0;
            width: 2rem; height: 2rem; border-radius: 50%;
            background: var(--accent); color: #000; font-weight: 700;
            font-size: 0.75rem; display: flex; align-items: center;
            justify-content: center; font-family: 'JetBrains Mono', monospace;
        }
        .flow-step + .flow-step::after {
            content: ''; position: absolute; left: 0.95rem; top: -1.5rem;
            width: 1px; height: 1.5rem; background: var(--accent); opacity: 0.3;
        }

        .viz-bar {
            height: 6px; background: rgba(255,255,255,0.06);
            border-radius: 3px; overflow: hidden;
        }
        .viz-fill {
            height: 100%; border-radius: 3px;
            background: linear-gradient(90deg, var(--accent), #fbbf24);
            width: 0; transition: width 1s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .callout {
            padding: 1rem 1.25rem; border-radius: 8px;
            display: flex; align-items: flex-start; gap: 0.75rem;
            font-size: 0.8rem;
        }
        .callout--warning { border: 1px solid rgba(245,158,11,0.25); background: rgba(245,158,11,0.05); }
        .callout--danger { border: 1px solid rgba(239,68,68,0.25); background: rgba(239,68,68,0.05); }

        .checklist-item {
            display: flex; align-items: center; gap: 0.75rem;
            padding: 0.6rem 1rem; border-radius: 6px; cursor: pointer;
            transition: background 0.15s; font-size: 0.8rem;
        }
        .checklist-item:hover { background: rgba(255,255,255,0.04); }
        .checklist-item input[type="checkbox"] {
            accent-color: var(--accent); width: 1rem; height: 1rem; cursor: pointer;
        }
        .checklist-item.checked { opacity: 0.5; text-decoration: line-through; }

        details summary {
            cursor: pointer; list-style: none; user-select: none;
        }
        details summary::-webkit-details-marker { display: none; }
        details[open] summary .chevron { transform: rotate(90deg); }
        .chevron { transition: transform 0.2s ease; display: inline-block; }

        @media (max-width: 1024px) {
            .main-grid { grid-template-columns: 1fr; }
            .sidebar { display: none; }
        }
    </style>
</head>
<body>
    <div class="selection:bg-amber-500/30 min-h-screen relative w-full">
        <div class="scanline"></div>

        <!-- Status Bar -->
        <div class="terminal-header sticky top-0 px-6 py-3 flex items-center justify-between text-[10px] font-semibold tracking-widest mono" style="color: var(--muted);">
            <div class="flex items-center gap-6">
                <div class="flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-amber-500 animate-pulse"></span>
                    <span style="color: var(--text);">Deploy Ready</span>
                </div>
                <div class="hidden md:block">Environment: Production</div>
                <div class="hidden md:block">Region: us-east-1</div>
            </div>
            <div class="flex items-center gap-6">
                <div id="clock">00:00:00 UTC</div>
                <div style="color: var(--accent);">Auth: Verified // Operations</div>
            </div>
        </div>

        <div class="page-container px-6 lg:px-12 py-12">

            <!-- Hero Header -->
            <header class="mb-32 reveal" id="top">
                <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-12">
                    <div class="space-y-6">
                        <div class="inline-flex items-center gap-2 px-3 py-1 border border-amber-500/20 bg-amber-500/5 text-amber-400 text-[10px] font-semibold tracking-widest rounded">
                            project-name // ContextType: Deployment
                        </div>
                        <h1 class="text-7xl md:text-9xl font-semibold tracking-tighter leading-none">
                            Deployment<br><span style="color: var(--accent);">Guide.</span>
                        </h1>
                    </div>
                    <div class="lg:text-right space-y-6">
                        <div class="space-y-1">
                            <p class="text-[10px] font-semibold tracking-widest" style="color: var(--muted);">Version / Release</p>
                            <p class="text-3xl font-semibold mono">v2.4.0</p>
                        </div>
                        <div class="flex lg:justify-end gap-3">
                            <div class="px-4 py-2 text-[10px] font-semibold tracking-widest rounded" style="border: 1px solid var(--border);">
                                Updated: 2026-02-28
                            </div>
                            <div class="px-4 py-2 text-[10px] font-semibold tracking-widest rounded" style="background: var(--accent); color: #000;">
                                Production
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ledger-line"></div>
            </header>

            <div class="main-grid">

                <!-- Sidebar TOC -->
                <aside class="sidebar">
                    <nav class="sticky top-24 space-y-12">
                        <div class="space-y-4">
                            <p class="text-[10px] font-semibold tracking-[0.2em]" style="color: var(--muted);">Operations Ledger</p>
                            <div id="sidebar-nav" class="flex flex-col gap-1">
                                <a href="#overview" class="toc-link active">01 Overview</a>
                                <a href="#what-changed" class="toc-link">02 What Changed</a>
                                <a href="#checklist" class="toc-link">03 Deployment Checklist</a>
                                <a href="#steps" class="toc-link">04 Step-by-Step</a>
                                <a href="#files" class="toc-link">05 Files Reference</a>
                                <a href="#verification" class="toc-link">06 Verification</a>
                                <a href="#rollback" class="toc-link">07 Rollback Plan</a>
                            </div>
                        </div>
                    </nav>
                </aside>

                <!-- Content Area -->
                <main class="space-y-[clamp(4rem,10vh,8rem)]">

                    <!-- 01 Overview -->
                    <section id="overview" class="space-y-12 reveal">
                        <h2 class="text-[10px] tracking-[0.3em] font-semibold opacity-80 pb-4" style="color: var(--text); border-bottom: 1px solid var(--border);">01 // Overview</h2>

                        <div class="glass-card p-6 space-y-3">
                            <div class="flex items-center gap-3">
                                <iconify-icon icon="lucide:target" style="color: var(--accent);" class="text-xl"></iconify-icon>
                                <h3 class="text-sm font-semibold">Deployment Goal</h3>
                            </div>
                            <p class="text-sm leading-relaxed" style="color: var(--muted);">
                                Deploy the v2.4.0 release to production, including optimized CSS bundles, updated JavaScript modules, and revised Webflow custom code snippets. This release reduces total page weight by 18% and introduces the new analytics integration.
                            </p>
                        </div>

                        <!-- KPI Row -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="glass-card p-5 text-center space-y-2">
                                <p class="text-3xl font-semibold mono" style="color: var(--accent);">14</p>
                                <p class="text-[10px] font-semibold tracking-widest" style="color: var(--muted);">Files Modified</p>
                            </div>
                            <div class="glass-card p-5 text-center space-y-2">
                                <p class="text-3xl font-semibold mono" style="color: var(--accent);">-18%</p>
                                <p class="text-[10px] font-semibold tracking-widest" style="color: var(--muted);">Size Reduction</p>
                            </div>
                            <div class="glass-card p-5 text-center space-y-2">
                                <p class="text-3xl font-semibold mono" style="color: var(--accent);">3</p>
                                <p class="text-[10px] font-semibold tracking-widest" style="color: var(--muted);">New Files</p>
                            </div>
                            <div class="glass-card p-5 text-center space-y-2">
                                <p class="text-3xl font-semibold mono" style="color: var(--accent);">~5 min</p>
                                <p class="text-[10px] font-semibold tracking-widest" style="color: var(--muted);">Est. Downtime</p>
                            </div>
                        </div>

                        <!-- Access Requirements -->
                        <div class="space-y-4">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">What Needs Access</h3>
                            <div class="glass-card overflow-x-auto">
                                <table class="data-table mono">
                                    <thead>
                                        <tr>
                                            <th>SERVICE</th>
                                            <th>ACCESS LEVEL</th>
                                            <th>PURPOSE</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="color: var(--accent); font-weight: 600;">Cloudflare R2</td>
                                            <td>Admin</td>
                                            <td style="color: var(--muted);">Upload CDN assets, purge cache</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent); font-weight: 600;">Webflow</td>
                                            <td>Editor</td>
                                            <td style="color: var(--muted);">Update custom code, publish site</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent); font-weight: 600;">GitHub</td>
                                            <td>Write</td>
                                            <td style="color: var(--muted);">Tag release, merge PR</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- 02 What Changed -->
                    <section id="what-changed" class="space-y-12 reveal">
                        <h2 class="text-[10px] tracking-[0.3em] font-semibold pb-4" style="color: var(--accent); border-bottom: 1px solid var(--border);">02 // What Changed</h2>

                        <details open class="glass-card">
                            <summary class="p-5 flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:globe" style="color: var(--accent);"></iconify-icon>
                                    <span class="text-sm font-semibold">Global Changes</span>
                                    <span class="status status--warn">4 files</span>
                                </div>
                                <span class="chevron" style="color: var(--muted);">&#9654;</span>
                            </summary>
                            <div class="px-5 pb-5">
                                <table class="data-table mono">
                                    <thead><tr><th>CHANGE</th><th>DESCRIPTION</th><th>IMPACT</th></tr></thead>
                                    <tbody>
                                        <tr>
                                            <td style="color: var(--accent);">CSS bundle</td>
                                            <td style="color: var(--muted);">Consolidated 3 stylesheets into single minified bundle</td>
                                            <td><span class="status status--match">Low</span></td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">Font loading</td>
                                            <td style="color: var(--muted);">Switched to font-display: swap with preconnect</td>
                                            <td><span class="status status--match">Low</span></td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">Analytics tag</td>
                                            <td style="color: var(--muted);">Replaced legacy GA script with Plausible snippet</td>
                                            <td><span class="status status--warn">Medium</span></td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">Meta tags</td>
                                            <td style="color: var(--muted);">Updated OG image URLs to new CDN path</td>
                                            <td><span class="status status--match">Low</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </details>

                        <details class="glass-card">
                            <summary class="p-5 flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:file-code" style="color: var(--accent);"></iconify-icon>
                                    <span class="text-sm font-semibold">JavaScript Files</span>
                                    <span class="status status--warn">6 files</span>
                                </div>
                                <span class="chevron" style="color: var(--muted);">&#9654;</span>
                            </summary>
                            <div class="px-5 pb-5">
                                <table class="data-table mono">
                                    <thead><tr><th>FILE</th><th>CHANGE</th><th>SIZE</th></tr></thead>
                                    <tbody>
                                        <tr>
                                            <td style="color: var(--accent);">app.min.js</td>
                                            <td style="color: var(--muted);">Rebuilt with tree-shaking, dead code elimination</td>
                                            <td>-22 KB</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">analytics.min.js</td>
                                            <td style="color: var(--muted);">New file: Plausible integration wrapper</td>
                                            <td>+3.1 KB</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">forms.min.js</td>
                                            <td style="color: var(--muted);">Updated validation logic, added honeypot field</td>
                                            <td>+0.4 KB</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </details>

                        <details class="glass-card">
                            <summary class="p-5 flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:file-plus" style="color: var(--accent);"></iconify-icon>
                                    <span class="text-sm font-semibold">New Files</span>
                                    <span class="status status--match">3 files</span>
                                </div>
                                <span class="chevron" style="color: var(--muted);">&#9654;</span>
                            </summary>
                            <div class="px-5 pb-5">
                                <table class="data-table mono">
                                    <thead><tr><th>FILE</th><th>PURPOSE</th></tr></thead>
                                    <tbody>
                                        <tr>
                                            <td style="color: var(--accent);">analytics.min.js</td>
                                            <td style="color: var(--muted);">Privacy-first analytics integration</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">critical.min.css</td>
                                            <td style="color: var(--muted);">Above-the-fold inline critical CSS</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">sw.js</td>
                                            <td style="color: var(--muted);">Service worker for offline asset caching</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </details>
                    </section>

                    <!-- 03 Deployment Checklist -->
                    <section id="checklist" class="space-y-12 reveal">
                        <h2 class="text-[10px] tracking-[0.3em] font-semibold pb-4" style="color: var(--accent); border-bottom: 1px solid var(--border);">03 // Deployment Checklist</h2>

                        <div class="space-y-6">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">Pre-Deployment</h3>
                            <div class="glass-card p-4 space-y-1">
                                <label class="checklist-item"><input type="checkbox"> Verify staging environment matches production config</label>
                                <label class="checklist-item"><input type="checkbox"> Run minification pipeline and verify output checksums</label>
                                <label class="checklist-item"><input type="checkbox"> Confirm CDN bucket permissions and CORS headers</label>
                                <label class="checklist-item"><input type="checkbox"> Back up current production assets to versioned folder</label>
                            </div>
                        </div>

                        <div class="space-y-6">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">Upload &amp; CDN</h3>
                            <div class="glass-card p-4 space-y-1">
                                <label class="checklist-item"><input type="checkbox"> Upload JS bundles to R2 <span class="inline-code">/v2.4.0/js/</span></label>
                                <label class="checklist-item"><input type="checkbox"> Upload CSS bundles to R2 <span class="inline-code">/v2.4.0/css/</span></label>
                                <label class="checklist-item"><input type="checkbox"> Set cache-control headers: <span class="inline-code">max-age=31536000, immutable</span></label>
                                <label class="checklist-item"><input type="checkbox"> Purge Cloudflare cache for updated paths</label>
                            </div>
                        </div>

                        <div class="space-y-6">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">Custom Code &amp; Publish</h3>
                            <div class="glass-card p-4 space-y-1">
                                <label class="checklist-item"><input type="checkbox"> Update Webflow head code with new CDN URLs</label>
                                <label class="checklist-item"><input type="checkbox"> Update Webflow footer code with new script references</label>
                                <label class="checklist-item"><input type="checkbox"> Publish Webflow site to production</label>
                            </div>
                        </div>

                        <div class="space-y-6">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">Post-Deployment</h3>
                            <div class="glass-card p-4 space-y-1">
                                <label class="checklist-item"><input type="checkbox"> Verify all pages load without console errors</label>
                                <label class="checklist-item"><input type="checkbox"> Confirm analytics events firing correctly</label>
                                <label class="checklist-item"><input type="checkbox"> Run Lighthouse audit (target: Performance &gt; 90)</label>
                                <label class="checklist-item"><input type="checkbox"> Tag release in GitHub: <span class="inline-code">v2.4.0</span></label>
                            </div>
                        </div>

                        <!-- Progress bar -->
                        <div class="space-y-2">
                            <div class="flex justify-between text-[10px] font-semibold tracking-widest" style="color: var(--muted);">
                                <span>Completion</span>
                                <span id="checklist-progress">0 / 15</span>
                            </div>
                            <div class="viz-bar"><div class="viz-fill" id="checklist-bar" style="width: 0%;"></div></div>
                        </div>
                    </section>

                    <!-- 04 Step-by-Step -->
                    <section id="steps" class="space-y-12 reveal">
                        <h2 class="text-[10px] tracking-[0.3em] font-semibold pb-4" style="color: var(--accent); border-bottom: 1px solid var(--border);">04 // Step-by-Step Instructions</h2>

                        <div class="space-y-8">
                            <div class="flow-step" data-step="1">
                                <div class="glass-card p-6 space-y-4">
                                    <h3 class="text-sm font-semibold">Build Production Assets</h3>
                                    <p class="text-sm" style="color: var(--muted);">Run the build pipeline to generate minified, versioned output files.</p>
                                    <pre class="p-4 rounded-lg text-[11px] mono overflow-x-auto" style="background: var(--bg); border: 1px solid var(--border);"><code><span style="color: var(--muted);"># From project root</span>
npm run build:prod
npm run minify -- --version 2.4.0
npm run verify:checksums</code></pre>
                                    <div class="callout callout--warning">
                                        <iconify-icon icon="lucide:info" style="color: var(--accent); margin-top: 2px;"></iconify-icon>
                                        <span style="color: var(--muted);">Expected output: 14 files in <span class="inline-code">dist/</span> with matching SHA256 checksums in <span class="inline-code">checksums.txt</span></span>
                                    </div>
                                </div>
                            </div>

                            <div class="flow-step" data-step="2">
                                <div class="glass-card p-6 space-y-4">
                                    <h3 class="text-sm font-semibold">Upload to CDN</h3>
                                    <p class="text-sm" style="color: var(--muted);">Push built assets to Cloudflare R2 under the versioned path.</p>
                                    <pre class="p-4 rounded-lg text-[11px] mono overflow-x-auto" style="background: var(--bg); border: 1px solid var(--border);"><code>npx wrangler r2 object put cdn-bucket/v2.4.0/js/ \
  --file dist/js/ --content-type application/javascript

npx wrangler r2 object put cdn-bucket/v2.4.0/css/ \
  --file dist/css/ --content-type text/css</code></pre>
                                </div>
                            </div>

                            <div class="flow-step" data-step="3">
                                <div class="glass-card p-6 space-y-4">
                                    <h3 class="text-sm font-semibold">Purge Cache &amp; Verify CDN</h3>
                                    <p class="text-sm" style="color: var(--muted);">Clear the edge cache and confirm files are accessible.</p>
                                    <pre class="p-4 rounded-lg text-[11px] mono overflow-x-auto" style="background: var(--bg); border: 1px solid var(--border);"><code>curl -X POST "https://api.cloudflare.com/client/v4/zones/ZONE_ID/purge_cache" \
  -H "Authorization: Bearer $CF_TOKEN" \
  -d '{"purge_everything":true}'

<span style="color: var(--muted);"># Verify CDN response</span>
curl -I https://cdn.example.com/v2.4.0/js/app.min.js</code></pre>
                                    <div class="callout callout--warning">
                                        <iconify-icon icon="lucide:check-circle" class="text-green-500" style="margin-top: 2px;"></iconify-icon>
                                        <span style="color: var(--muted);">Expected: HTTP 200, correct <span class="inline-code">content-type</span>, cache-control headers present</span>
                                    </div>
                                </div>
                            </div>

                            <div class="flow-step" data-step="4">
                                <div class="glass-card p-6 space-y-4">
                                    <h3 class="text-sm font-semibold">Update Webflow Custom Code</h3>
                                    <p class="text-sm" style="color: var(--muted);">Replace CDN references in Webflow's site-wide custom code sections, then publish.</p>
                                    <pre class="p-4 rounded-lg text-[11px] mono overflow-x-auto" style="background: var(--bg); border: 1px solid var(--border);"><code><span style="color: var(--muted);">&lt;!-- Head code: replace version in all CDN URLs --&gt;</span>
&lt;link rel="stylesheet" href="https://cdn.example.com/v2.4.0/css/styles.min.css"&gt;

<span style="color: var(--muted);">&lt;!-- Footer code: update script tags --&gt;</span>
&lt;script src="https://cdn.example.com/v2.4.0/js/app.min.js" defer&gt;&lt;/script&gt;</code></pre>
                                </div>
                            </div>

                            <div class="flow-step" data-step="5">
                                <div class="glass-card p-6 space-y-4">
                                    <h3 class="text-sm font-semibold">Tag &amp; Document Release</h3>
                                    <pre class="p-4 rounded-lg text-[11px] mono overflow-x-auto" style="background: var(--bg); border: 1px solid var(--border);"><code>git tag -a v2.4.0 -m "Release v2.4.0: CSS consolidation, analytics migration"
git push origin v2.4.0</code></pre>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 05 Files Reference -->
                    <section id="files" class="space-y-12 reveal">
                        <h2 class="text-[10px] tracking-[0.3em] font-semibold pb-4" style="color: var(--accent); border-bottom: 1px solid var(--border);">05 // Files Reference</h2>

                        <div class="space-y-6">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">File Tree</h3>
                            <div class="relative group">
                                <div class="absolute top-3 right-3 text-[9px] font-semibold tracking-widest px-2 py-1 rounded" style="color: var(--muted); background: rgba(0,0,0,0.6);">Tree</div>
                                <pre class="p-5 pt-10 text-[11px] mono overflow-x-auto leading-relaxed rounded-lg" style="background: var(--surface); border: 1px solid var(--border);"><code><span style="color: var(--accent);">dist/</span>
├── <span style="color: var(--accent);">css/</span>
│   ├── styles.min.css          <span style="color: var(--muted);">  12.4 KB  (was 15.1 KB)</span>
│   └── critical.min.css        <span style="color: var(--muted);">   1.8 KB  (new)</span>
├── <span style="color: var(--accent);">js/</span>
│   ├── app.min.js              <span style="color: var(--muted);">  44.2 KB  (was 66.5 KB)</span>
│   ├── analytics.min.js        <span style="color: var(--muted);">   3.1 KB  (new)</span>
│   ├── forms.min.js            <span style="color: var(--muted);">   8.7 KB  (was 8.3 KB)</span>
│   └── sw.js                   <span style="color: var(--muted);">   2.0 KB  (new)</span>
└── checksums.txt               <span style="color: var(--muted);">   0.3 KB</span></code></pre>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">CDN URLs</h3>
                            <div class="glass-card overflow-x-auto">
                                <table class="data-table mono">
                                    <thead><tr><th>FILE</th><th>CDN URL</th><th>STATUS</th></tr></thead>
                                    <tbody>
                                        <tr>
                                            <td style="color: var(--accent);">styles.min.css</td>
                                            <td class="text-xs" style="color: var(--muted);">https://cdn.example.com/v2.4.0/css/styles.min.css</td>
                                            <td><span class="status status--match">Live</span></td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">app.min.js</td>
                                            <td class="text-xs" style="color: var(--muted);">https://cdn.example.com/v2.4.0/js/app.min.js</td>
                                            <td><span class="status status--match">Live</span></td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent);">analytics.min.js</td>
                                            <td class="text-xs" style="color: var(--muted);">https://cdn.example.com/v2.4.0/js/analytics.min.js</td>
                                            <td><span class="status status--warn">Pending</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- 06 Verification -->
                    <section id="verification" class="space-y-12 reveal">
                        <h2 class="text-[10px] tracking-[0.3em] font-semibold pb-4" style="color: var(--accent); border-bottom: 1px solid var(--border);">06 // Verification Steps</h2>

                        <div class="space-y-6">
                            <div class="flow-step" data-step="1">
                                <div class="glass-card p-5 flex items-start justify-between gap-4">
                                    <div class="space-y-1">
                                        <h4 class="text-sm font-semibold">Console Error Check</h4>
                                        <p class="text-xs" style="color: var(--muted);">Open DevTools on all key pages. Confirm zero JS errors and no failed network requests for CDN assets.</p>
                                    </div>
                                    <span class="status status--match">Pass</span>
                                </div>
                            </div>
                            <div class="flow-step" data-step="2">
                                <div class="glass-card p-5 flex items-start justify-between gap-4">
                                    <div class="space-y-1">
                                        <h4 class="text-sm font-semibold">Lighthouse Audit</h4>
                                        <p class="text-xs" style="color: var(--muted);">Run Lighthouse on homepage. Targets: Performance > 90, Accessibility > 95, Best Practices > 90.</p>
                                    </div>
                                    <span class="status status--warn">Pending</span>
                                </div>
                            </div>
                            <div class="flow-step" data-step="3">
                                <div class="glass-card p-5 flex items-start justify-between gap-4">
                                    <div class="space-y-1">
                                        <h4 class="text-sm font-semibold">Analytics Verification</h4>
                                        <p class="text-xs" style="color: var(--muted);">Trigger pageview and custom events. Confirm data appears in Plausible dashboard within 60 seconds.</p>
                                    </div>
                                    <span class="status status--warn">Pending</span>
                                </div>
                            </div>
                            <div class="flow-step" data-step="4">
                                <div class="glass-card p-5 flex items-start justify-between gap-4">
                                    <div class="space-y-1">
                                        <h4 class="text-sm font-semibold">Cross-Browser Spot Check</h4>
                                        <p class="text-xs" style="color: var(--muted);">Verify layout on Chrome, Safari, Firefox (latest). Check mobile viewport on iOS Safari and Chrome Android.</p>
                                    </div>
                                    <span class="status status--gap">Not Started</span>
                                </div>
                            </div>
                            <div class="flow-step" data-step="5">
                                <div class="glass-card p-5 flex items-start justify-between gap-4">
                                    <div class="space-y-1">
                                        <h4 class="text-sm font-semibold">Form Submission Test</h4>
                                        <p class="text-xs" style="color: var(--muted);">Submit test entry on contact form. Verify email delivery and honeypot field blocks spam bots.</p>
                                    </div>
                                    <span class="status status--gap">Not Started</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 07 Rollback Plan -->
                    <section id="rollback" class="space-y-12 reveal">
                        <h2 class="text-[10px] tracking-[0.3em] font-semibold pb-4" style="color: var(--accent); border-bottom: 1px solid var(--border);">07 // Rollback Plan</h2>

                        <div class="callout callout--danger">
                            <iconify-icon icon="lucide:alert-triangle" class="text-red-400 text-xl" style="margin-top: 2px;"></iconify-icon>
                            <div class="space-y-2">
                                <p class="font-semibold text-sm text-red-400">Emergency Rollback Procedure</p>
                                <p class="text-sm" style="color: var(--muted);">If critical issues are detected post-deploy, follow these steps to revert to the last known-good state. Target rollback time: under 3 minutes.</p>
                            </div>
                        </div>

                        <div class="space-y-6">
                            <div class="flow-step" data-step="1">
                                <div class="glass-card p-5 space-y-2">
                                    <h4 class="text-sm font-semibold">Revert Webflow Custom Code</h4>
                                    <p class="text-xs" style="color: var(--muted);">Replace all CDN URLs in head and footer code with previous version path <span class="inline-code">/v2.3.1/</span>. Publish immediately.</p>
                                </div>
                            </div>
                            <div class="flow-step" data-step="2">
                                <div class="glass-card p-5 space-y-2">
                                    <h4 class="text-sm font-semibold">Purge CDN Cache</h4>
                                    <p class="text-xs" style="color: var(--muted);">Run full cache purge to ensure all edge nodes serve the reverted references.</p>
                                </div>
                            </div>
                            <div class="flow-step" data-step="3">
                                <div class="glass-card p-5 space-y-2">
                                    <h4 class="text-sm font-semibold">Verify Rollback</h4>
                                    <p class="text-xs" style="color: var(--muted);">Confirm the site loads v2.3.1 assets. Check Network tab for correct versioned URLs. Run smoke tests.</p>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <h3 class="text-xs font-semibold tracking-widest" style="color: var(--muted);">Version History</h3>
                            <div class="glass-card overflow-x-auto">
                                <table class="data-table mono">
                                    <thead><tr><th>VERSION</th><th>DATE</th><th>STATUS</th><th>NOTES</th></tr></thead>
                                    <tbody>
                                        <tr>
                                            <td style="color: var(--accent); font-weight: 600;">v2.4.0</td>
                                            <td>2026-02-28</td>
                                            <td><span class="status status--warn">Current</span></td>
                                            <td style="color: var(--muted);">CSS consolidation, analytics migration</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent); font-weight: 600;">v2.3.1</td>
                                            <td>2026-02-14</td>
                                            <td><span class="status status--match">Stable</span></td>
                                            <td style="color: var(--muted);">Hotfix: form validation edge case</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent); font-weight: 600;">v2.3.0</td>
                                            <td>2026-01-30</td>
                                            <td><span class="status status--match">Stable</span></td>
                                            <td style="color: var(--muted);">Feature: lazy loading, image optimization</td>
                                        </tr>
                                        <tr>
                                            <td style="color: var(--accent); font-weight: 600;">v2.2.0</td>
                                            <td>2026-01-10</td>
                                            <td><span class="status status--match">Archived</span></td>
                                            <td style="color: var(--muted);">Feature: service worker, offline support</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- Footer -->
                    <footer class="pt-24 flex flex-col md:flex-row justify-between items-start md:items-center gap-8 opacity-40 mb-12" style="border-top: 1px solid var(--border);">
                        <div class="space-y-1">
                            <p class="text-[10px] font-semibold tracking-widest">SpecKit Deployment Control</p>
                            <p class="text-[9px] mono">Integrity_Hash: 0xa4f02e_Deploy_Ref_v2.4.0</p>
                        </div>
                        <div class="text-right space-y-1">
                            <p class="text-[10px] font-semibold tracking-widest">OpenCode Infrastructure</p>
                            <p class="text-[9px] mono">End of Operations Ledger</p>
                        </div>
                    </footer>

                </main>
            </div>
        </div>
    </div>

    <script>
        // Clock
        function updateClock() {
            const now = new Date();
            const el = document.getElementById('clock');
            if (el) el.textContent = now.toISOString().split('T')[1].split('.')[0] + ' UTC';
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Reveal animations + scroll spy
        const initObservers = () => {
            const revealObs = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.isIntersecting) {
                        e.target.classList.add('active');
                        e.target.querySelectorAll('.viz-fill').forEach(bar => {
                            bar.style.width = bar.getAttribute('data-width') || bar.style.width;
                        });
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => revealObs.observe(el));

            const navLinks = document.querySelectorAll('.toc-link');
            const sections = document.querySelectorAll('section[id]');
            const navObs = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.isIntersecting) {
                        const id = e.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href') === '#' + id);
                        });
                    }
                });
            }, { rootMargin: '-20% 0px -70% 0px' });
            sections.forEach(s => navObs.observe(s));
        };

        // Interactive checklist
        const initChecklist = () => {
            const boxes = document.querySelectorAll('.checklist-item input[type="checkbox"]');
            const total = boxes.length;
            const bar = document.getElementById('checklist-bar');
            const label = document.getElementById('checklist-progress');

            const update = () => {
                const checked = document.querySelectorAll('.checklist-item input:checked').length;
                const pct = Math.round((checked / total) * 100);
                if (bar) bar.style.width = pct + '%';
                if (label) label.textContent = checked + ' / ' + total;
                boxes.forEach(cb => {
                    cb.closest('.checklist-item').classList.toggle('checked', cb.checked);
                });
            };

            boxes.forEach(cb => cb.addEventListener('change', update));
            update();
        };

        window.addEventListener('DOMContentLoaded', () => {
            initObservers();
            initChecklist();
        });
    </script>
</body>
</html>
