# v1.3.3.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**1.3.3.0**] - 2026-02-11

**Claude Code integration & orchestrate improvements:** Created **8 Claude Code subagent files** in `.claude/agents/` (converting symlinks to standalone files with YAML frontmatter), added **Tool Call Budget (TCB)** system to orchestrate.md, and reduced orchestrate.md from **892 → 758 lines** through section consolidation.

---

### New

1. **Claude Code Subagent Conversion** — Duplicated all 8 OpenCode agent files (`context`, `debug`, `handover`, `orchestrate`, `research`, `review`, `speckit`, `write`) to `.claude/agents/` with Claude Code-compatible YAML frontmatter (`name`, `description`, `tools`, `model`, `mcpServers`). Previous symlinks replaced with standalone files. Body content byte-identical to OpenCode source. All agents configured with `spec_kit_memory` and `code_mode` MCP servers. Model assignments: `opus` for orchestrate/research/debug/review, `sonnet` for context/speckit/write/handover. `permissionMode: plan` for review (read-only agent)
2. **Tool Call Budget (TCB)** — New §26 in orchestrate.md with 3-layer defense against runaway agent dispatches: estimation heuristic table, thresholds (1–8 safe, 9–12 caution, 13+ must split), batch sizing rule, Agent Self-Governance Footer for mid-flight scope reporting, and "Aborted Task Recovery" 6-step protocol in §14. TCB estimation field added to task decomposition (§10) and PDR templates

### Changed

3. **orchestrate.md Bloat Reduction (15%)** — Reduced from 892 → 758 lines and 31 → 26 sections through targeted merges: §3+§4+§15 → unified §3 (Agent Routing), §25+§26+§27+§28 → unified §23 (Context Window Budget), §26 (Output Verification) absorbed into §23. Compressed §2 (Capability Scan), §8 (Command Suggestions), §30 (Related Resources). All ~32 internal `§N` cross-references renumbered with zero stale references verified
4. **Claude Code orchestrate.md Sync** — `.claude/agents/orchestrate.md` body replaced with updated OpenCode source (post-TCB, post-bloat-reduction). Claude Code YAML frontmatter preserved

---

**Files:** `.claude/agents/context.md` · `.claude/agents/debug.md` · `.claude/agents/handover.md` · `.claude/agents/orchestrate.md` · `.claude/agents/research.md` · `.claude/agents/review.md` · `.claude/agents/speckit.md` · `.claude/agents/write.md` · `.opencode/agent/orchestrate.md`

---

*For full release history, see the [global CHANGELOG](../CHANGELOG.md).*
