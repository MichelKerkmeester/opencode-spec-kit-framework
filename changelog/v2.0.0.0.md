# v2.0.0.0

> Part of [OpenCode Dev Environment](https://github.com/MichelKerkmeester/opencode-spec-kit-framework)

---

## [**2.0.0.0**] - 2026-02-11

**Spec Kit Memory: JavaScript → TypeScript migration** — Complete rewrite of the MCP server from JavaScript to TypeScript across **16 spec folders** (092-107), delivering **186+ files converted**, **85+ critical bugs fixed**, **3,872 tests passing**, and **303 documentation fixes**.

> Spec folder: `specs/003-memory-and-spec-kit/` (specs 092-107, Levels 2-3)

---

### New

1. **TypeScript Infrastructure** — `tsconfig.json` with project references for 3 workspaces (`shared/`, `mcp_server/`, `scripts/`), `shared/types.ts` central type definitions, `sqlite-vec.d.ts` native extension declarations. CommonJS output preserves backward compatibility
2. **1,589 New Tests** (spec 100) — Achieved 100% module export coverage across 26 test files, including 48 FTS5 SQL injection security tests. Test suite grew from ~700 to **3,872 tests** across 114 test files
3. **Memory Save Auto-Detect** (spec 097) — 5-priority detection cascade for spec folder resolution: explicit path → Gate 3 context → recent spec → cwd → ask user. Streamlines the memory save workflow

### Changed

4. **186+ Source Files Converted** (spec 092) — All `.js` source files in `shared/`, `mcp_server/`, and `scripts/` converted to TypeScript with full type annotations. 21 migration phases. CommonJS output unchanged — zero runtime behavior changes, all `require()` paths preserved
5. **Type Safety Hardened** — `@ts-nocheck` removed from 96 test files with ~1,100 type errors resolved (spec 103). Unsafe casts reduced from 48 → 3 (spec 099). 199 `: any` remaining (tracked, non-critical)
6. **Documentation Accuracy** (specs 106-107) — 20-agent parallel audit identified ~120 critical issues. 303 fixes applied across ~45 files: phantom file references removed, stale counts updated, 39 mcp-narsil references purged, all import extensions corrected
7. **Code-Documentation Alignment** (specs 101-102) — 36-finding misalignment audit followed by full remediation. Doc-code alignment improved from 67.9% → 95.5%. ADR-008 written
8. **18 Command Files Updated** (specs 092, 102) — 23 path references fixed across 15 command/asset files for TS migration (spec 092). 6 `spec_kit/` commands enhanced with `memory_context` integration and standardized quality gates (spec 102). 5 obsolete commands removed: `search/{code,index}.md`, `memory/{checkpoint,database,search}.md`
9. **`workflows-code--opencode` Skill Overhauled** (v1.1.0 → v1.3.2) — 4 new TypeScript reference files added, 645 code standard violations audited across 136 files, template alignment for 22 skill files, 17 broken router references fixed. Established TypeScript coding standards for the entire project

### Fixed

10. **85+ Bugs Fixed** (spec 096) — 8 CRITICAL: FSRS decay formula 18.45x error, macOS SQLite crash, database no-op writes. Plus 27 regression tests added
11. **12 Non-Functional Features Restored** (spec 098) — 10 P0 + 18 P1 issues resolved across the MCP server. Features that had silently broken during development restored to working state
12. **Memory Index Reliability** (spec 093) — Indexing success rate improved from 129/244 → 240/245. 2 root-cause bugs fixed. FSRS v4 decay formula corrected
13. **196 TypeScript Type Errors** (spec 094) — 5 P0 + 14 P1 bugs from 20-agent parallel code review. Zero `tsc` errors achieved
14. **Database Re-Indexed** (spec 099) — Memory database re-indexed from 85 → 261 memories. 75 new tests. Deprecated types preserved for backward compatibility

### Current State

- **Build:** `tsc --noEmit` PASS (0 errors)
- **Tests:** 3,872 passing, 71 skipped, 114/118 suites (4 skipped)
- **Source:** 204 `.ts` files, 0 `.js` source files in MCP server
- **LOC:** 68,134 source + 40,072 tests = 108,206 total
- **Type Safety:** 0 `@ts-nocheck`, 199 `: any` remaining

---

**Files:** `.opencode/skill/system-spec-kit/` (entire skill directory — 204+ source files, 118 test files)

---

*For full release history, see the [global CHANGELOG](../CHANGELOG.md).*
